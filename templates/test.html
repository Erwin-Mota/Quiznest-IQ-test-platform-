<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IQ Test - IQ Master</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: #667eea;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .progress-bar {
            flex: 1;
            margin: 0 2rem;
            background: rgba(102, 126, 234, 0.2);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .progress-text {
            font-weight: 600;
            color: #667eea;
            min-width: 80px;
            text-align: right;
            margin-right: 2rem;
        }

        /* Email Modal Styles */
        .email-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            animation: fadeIn 0.3s ease;
        }

        .email-modal-content {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            animation: slideInUp 0.5s ease;
        }

        .email-modal-header {
            margin-bottom: 2rem;
        }

        .email-modal-header i {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 1rem;
        }

        .email-modal-header h2 {
            font-size: 2rem;
            color: #333;
            margin-bottom: 1rem;
        }

        .email-modal-header p {
            color: #666;
            font-size: 1.1rem;
        }

        .email-form {
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .submit-email-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0 auto;
        }

        .submit-email-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .email-note {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #666;
            font-size: 0.9rem;
        }

        .email-note i {
            color: #4CAF50;
        }

        /* Analysis Screen Styles */
        .analysis-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            animation: fadeIn 0.3s ease;
        }

        .analysis-content {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            max-width: 600px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            animation: slideInUp 0.5s ease;
        }

        .analysis-header {
            margin-bottom: 3rem;
        }

        .analysis-header i {
            font-size: 4rem;
            color: #667eea;
            margin-bottom: 1rem;
        }

        .analysis-header h2 {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 1rem;
        }

        .analysis-header p {
            color: #666;
            font-size: 1.2rem;
        }

        .analysis-progress {
            margin-bottom: 2rem;
        }

        .progress-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .progress-bar-analysis {
            flex: 1;
            background: #e1e5e9;
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
        }

        .progress-fill-analysis {
            height: 100%;
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 6px;
        }

        .progress-text-analysis {
            font-weight: 700;
            color: #333;
            font-size: 1.2rem;
            min-width: 60px;
        }

        .analysis-steps {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .step {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
            opacity: 0.5;
            transition: all 0.3s ease;
        }

        .step.active {
            opacity: 1;
            background: #e8f5e8;
            color: #4CAF50;
        }

        .step i {
            font-size: 1.2rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Test Container */
        .test-container {
            padding: 120px 0 40px;
            min-height: 100vh;
        }

        .test-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 3rem;
            margin-bottom: 2rem;
            animation: slideInUp 0.5s ease;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .question-number {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .question-category {
            color: #667eea;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 2rem;
            color: #333;
            line-height: 1.5;
        }

        .question-image {
            text-align: center;
            margin: 2rem 0;
        }

        .question-image img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .option {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 80px;
        }

        .option:hover {
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.05);
        }

        .option.selected {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .option.correct {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        .option.incorrect {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.1);
        }

        .option-label {
            display: none;
        }

        .option-text {
            color: #333;
            font-size: 1rem;
        }

        .option-image {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 10px;
            margin-top: 0.5rem;
        }

        /* Navigation Buttons */
        .test-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 2px solid #f0f0f0;
        }

        .nav-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .btn-prev {
            background: #f8f9fa;
            color: #666;
            border: 2px solid #e9ecef;
        }

        .btn-prev:hover {
            background: #e9ecef;
            transform: translateX(-3px);
        }

        .btn-next {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .btn-next:hover {
            transform: translateX(3px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-submit {
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            color: white;
        }

        .btn-submit:hover {
            transform: translateX(3px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Timer */
        .timer {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-left: 1rem;
        }

        .timer.warning {
            background: linear-gradient(45deg, #ff9800, #f57c00);
            animation: pulse 1s infinite;
        }

        .timer.danger {
            background: linear-gradient(45deg, #f44336, #d32f2f);
            animation: pulse 0.5s infinite;
        }

        /* Progress Popup */
        .progress-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            backdrop-filter: blur(10px);
        }

        .progress-popup.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .popup-content {
            background: white;
            border-radius: 25px;
            padding: 3rem;
            text-align: center;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .popup-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .popup-title {
            font-size: 2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .popup-subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 2rem;
        }

        .speed-percentage {
            font-size: 3rem;
            font-weight: 700;
            color: #4CAF50;
            margin-bottom: 1rem;
            text-shadow: 0 2px 10px rgba(76, 175, 80, 0.3);
        }

        .brain-animation {
            width: 120px;
            height: 120px;
            margin: 2rem auto;
            position: relative;
        }

        .brain-container {
            width: 100%;
            height: 100%;
            position: relative;
            animation: brainPulse 2s ease-in-out infinite;
        }

        .brain-icon {
            font-size: 4rem;
            color: #667eea;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: brainFloat 3s ease-in-out infinite;
        }

        .neuron {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #4CAF50;
            border-radius: 50%;
            animation: neuronPulse 1.5s ease-in-out infinite;
        }

        .neuron:nth-child(1) { top: 20%; left: 20%; animation-delay: 0s; }
        .neuron:nth-child(2) { top: 30%; right: 25%; animation-delay: 0.3s; }
        .neuron:nth-child(3) { bottom: 30%; left: 30%; animation-delay: 0.6s; }
        .neuron:nth-child(4) { bottom: 20%; right: 20%; animation-delay: 0.9s; }
        .neuron:nth-child(5) { top: 50%; left: 10%; animation-delay: 1.2s; }
        .neuron:nth-child(6) { bottom: 50%; right: 10%; animation-delay: 1.5s; }

        .progress-stats {
            display: flex;
            justify-content: space-around;
            margin: 2rem 0;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 15px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: #667eea;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
            margin-top: 0.5rem;
        }

        .continue-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .continue-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
        }

        @keyframes brainPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes brainFloat {
            0%, 100% { transform: translate(-50%, -50%) translateY(0px); }
            50% { transform: translate(-50%, -50%) translateY(-10px); }
        }

        @keyframes neuronPulse {
            0%, 100% { 
                transform: scale(1);
                opacity: 0.7;
            }
            50% { 
                transform: scale(1.5);
                opacity: 1;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Instructions */
        .instructions {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .instructions h2 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        .instructions ul {
            list-style: none;
            padding: 0;
        }

        .instructions li {
            padding: 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .instructions li::before {
            content: '✓';
            color: #4CAF50;
            font-weight: bold;
        }

        /* New Instructions Styling */
        .instructions-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .instructions-header h2 {
            color: #667eea;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 2rem;
        }

        .instructions-subtitle {
            color: #666;
            font-size: 1.1rem;
            font-weight: 500;
        }

        .instructions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .instruction-card {
            background: linear-gradient(135deg, #f8f9fa, #ffffff);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            border: 1px solid #e9ecef;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .instruction-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .instruction-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            color: white;
            font-size: 1.5rem;
        }

        .instruction-card h4 {
            color: #333;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .instruction-card p {
            color: #666;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .test-tips {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border-left: 4px solid #ffc107;
        }

        .test-tips h4 {
            color: #856404;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Visual Pattern Questions CSS */
        .pattern-question {
            margin: 2rem 0;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 15px;
            border: 2px solid #e9ecef;
        }

        /* Large Grid Pattern */
        .large-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 0.5rem;
            max-width: 300px;
            margin: 0 auto;
        }

        .grid-row {
            display: contents;
        }

        .grid-cell {
            width: 40px;
            height: 40px;
            border: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .grid-cell.filled {
            background: #667eea;
        }

        .grid-cell.cutout {
            background: transparent;
            border: 2px dashed #999;
        }

        .grid-cell.empty {
            background: transparent;
        }

        .grid-cell.diagonal {
            background: linear-gradient(45deg, #667eea 50%, transparent 50%);
        }

        .grid-cell.half {
            background: linear-gradient(90deg, #667eea 50%, transparent 50%);
        }

        /* Color Sequence Pattern */
        .color-sequence {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .color-item {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }

        .color-item.red { background: #ff6b6b; }
        .color-item.blue { background: #667eea; }
        .color-item.green { background: #4CAF50; }
        .color-item.yellow { background: #ffc107; }

        /* Transformation Sequence */
        .transformation-sequence {
            margin: 2rem 0;
        }

        .shape-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .shape {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #667eea;
            color: white;
            font-weight: bold;
        }

        .shape.square { border-radius: 0; }
        .shape.circle { border-radius: 50%; }
        .shape.triangle { 
            background: #667eea;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }
        .shape.diamond { 
            background: #667eea;
            transform: rotate(45deg);
        }

        .arrow {
            font-size: 1.5rem;
            color: #667eea;
            font-weight: bold;
        }

        /* Size Sequence */
        .size-sequence {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .size-item {
            background: #667eea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .size-item.small { width: 20px; height: 20px; font-size: 0.8rem; }
        .size-item.medium { width: 40px; height: 40px; font-size: 1rem; }
        .size-item.large { width: 60px; height: 60px; font-size: 1.2rem; }
        .size-item.extra-large { width: 80px; height: 80px; font-size: 1.5rem; }

        /* Position Sequence */
        .position-sequence {
            margin: 2rem 0;
        }

        .position-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            max-width: 200px;
            margin: 0 auto;
            position: relative;
            height: 200px;
        }

        .pos-item {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .pos-item.top-left { grid-column: 1; grid-row: 1; }
        .pos-item.top-right { grid-column: 3; grid-row: 1; }
        .pos-item.center { grid-column: 2; grid-row: 2; }
        .pos-item.bottom-left { grid-column: 1; grid-row: 3; }
        .pos-item.bottom-right { grid-column: 3; grid-row: 3; }

        /* Rotation Sequence */
        .rotation-sequence {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .rot-item {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .rot-item.rotate-0 { transform: rotate(0deg); }
        .rot-item.rotate-90 { transform: rotate(90deg); }
        .rot-item.rotate-180 { transform: rotate(180deg); }
        .rot-item.rotate-270 { transform: rotate(270deg); }

        /* Symmetry Pattern */
        .symmetry-pattern {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .sym-item {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .sym-item.left { transform: scaleX(-1); }
        .sym-item.right { transform: scaleX(1); }
        .sym-item.center { transform: scale(1); }
        .sym-item.diagonal { transform: rotate(45deg); }

        /* Folding Sequence */
        .folding-sequence {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .fold-item {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .fold-item.unfolded { transform: scale(1); }
        .fold-item.half-folded { transform: scale(0.7); }
        .fold-item.fully-folded { transform: scale(0.4); }
        .fold-item.quarter-folded { transform: scale(0.85); }

        /* Perspective Sequence */
        .perspective-sequence {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .perspective-item {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .perspective-item.front { transform: rotateX(0deg); }
        .perspective-item.side { transform: rotateY(90deg); }
        .perspective-item.top { transform: rotateX(90deg); }
        .perspective-item.back { transform: rotateY(180deg); }

        /* Transform Sequence */
        .transform-sequence {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .transform-item {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .transform-item.original { transform: scale(1); }
        .transform-item.scaled { transform: scale(1.5); }
        .transform-item.rotated { transform: rotate(45deg); }
        .transform-item.flipped { transform: scaleX(-1); }

        /* Math Sequence */
        .math-sequence {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .math-item {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        /* Memory Sequences */
        .memory-sequence, .memory-shape-sequence, .color-memory-sequence,
        .position-memory-grid, .size-memory-sequence, .shape-memory-sequence,
        .pattern-memory-sequence {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .memory-item, .memory-shape, .color-memory, .pos-memory,
        .size-memory, .shape-memory, .pattern-memory {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        /* Symmetry Count */
        .symmetry-count {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .count-item {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        /* Mirror Pattern */
        .mirror-pattern {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .mirror-item {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .mirror-item.left { transform: scaleX(-1); }
        .mirror-item.right { transform: scaleX(1); }
        .mirror-item.center { transform: scale(1); }
        .mirror-item.diagonal { transform: rotate(45deg); }

        /* Question Mark Styling */
        .question-mark {
            background: #ff6b6b !important;
            color: white !important;
            font-weight: bold !important;
            font-size: 1.2rem !important;
        }

        /* New Visual Pattern CSS for Examples */
        
        /* Large Grid Pattern */
        .large-grid-pattern {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 0.5rem;
            max-width: 300px;
            margin: 0 auto;
        }

        .grid-container {
            display: contents;
        }

        .grid-cell {
            width: 40px;
            height: 40px;
            border: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .grid-cell.filled {
            background: #667eea;
        }

        .grid-cell.cutout {
            background: transparent;
            border: 2px dashed #999;
        }

        .grid-option {
            width: 40px;
            height: 40px;
            border: 1px solid #ddd;
            margin: auto;
        }

        .grid-option.small-grid {
            background: linear-gradient(0deg, transparent 0%, transparent 49%, #667eea 49%, #667eea 51%, transparent 51%, transparent 100%),
                        linear-gradient(90deg, transparent 0%, transparent 49%, #667eea 49%, #667eea 51%, transparent 51%, transparent 100%);
            background-size: 20px 20px;
        }

        .grid-option.diamond-grid {
            background: linear-gradient(45deg, transparent 0%, transparent 49%, #667eea 49%, #667eea 51%, transparent 51%, transparent 100%),
                        linear-gradient(-45deg, transparent 0%, transparent 49%, #667eea 49%, #667eea 51%, transparent 51%, transparent 100%);
            background-size: 20px 20px;
        }

        .grid-option.cross-hatch {
            background: linear-gradient(45deg, #667eea 25%, transparent 25%, transparent 75%, #667eea 75%),
                        linear-gradient(-45deg, #667eea 25%, transparent 25%, transparent 75%, #667eea 75%);
            background-size: 10px 10px;
        }

        .grid-option.hash-pattern {
            background: linear-gradient(0deg, #667eea 0%, #667eea 2px, transparent 2px, transparent 8px),
                        linear-gradient(90deg, #667eea 0%, #667eea 2px, transparent 2px, transparent 8px);
            background-size: 8px 8px;
        }

        .grid-option.large-grid {
            background: linear-gradient(0deg, transparent 0%, transparent 49%, #667eea 49%, #667eea 51%, transparent 51%, transparent 100%),
                        linear-gradient(90deg, transparent 0%, transparent 49%, #667eea 49%, #667eea 51%, transparent 51%, transparent 100%);
            background-size: 15px 15px;
        }

        /* Butterfly Pattern */
        .butterfly-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            max-width: 300px;
            margin: 0 auto;
        }

        .butterfly-cell {
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .butterfly {
            width: 60px;
            height: 60px;
            position: relative;
            display: flex;
            flex-wrap: wrap;
        }

        .wing {
            width: 30px;
            height: 30px;
            background: #667eea;
            border-radius: 50% 0 50% 0;
            position: relative;
        }

        .wing.upper-left { transform: rotate(0deg); }
        .wing.upper-right { transform: rotate(90deg); }
        .wing.lower-left { transform: rotate(270deg); }
        .wing.lower-right { transform: rotate(180deg); }

        .butterfly-option {
            width: 60px;
            height: 60px;
            margin: auto;
            position: relative;
            display: flex;
            flex-wrap: wrap;
        }

        .butterfly-option.pattern-1 .wing { background: #ff6b6b; }
        .butterfly-option.pattern-2 .wing { background: #4CAF50; }
        .butterfly-option.pattern-3 .wing { background: #667eea; }
        .butterfly-option.pattern-4 .wing { background: #ffc107; }
        .butterfly-option.pattern-5 .wing { background: #9C27B0; }
        .butterfly-option.pattern-6 .wing { background: #FF9800; }

        /* L-Shape Pattern */
        .l-shape-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            max-width: 300px;
            margin: 0 auto;
        }

        .l-cell {
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .l-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            position: relative;
        }

        .l-shape.inverted-l {
            clip-path: polygon(0% 0%, 100% 0%, 100% 30%, 30% 30%, 30% 100%, 0% 100%);
        }

        .l-shape.normal-l {
            clip-path: polygon(0% 0%, 30% 0%, 30% 70%, 100% 70%, 100% 100%, 0% 100%);
        }

        .l-shape.circle {
            border-radius: 50%;
        }

        .l-shape.square {
            border-radius: 0;
        }

        .l-option {
            width: 40px;
            height: 40px;
            background: #667eea;
            margin: auto;
        }

        .l-option.inverted-l {
            clip-path: polygon(0% 0%, 100% 0%, 100% 30%, 30% 30%, 30% 100%, 0% 100%);
        }

        .l-option.normal-l {
            clip-path: polygon(0% 0%, 30% 0%, 30% 70%, 100% 70%, 100% 100%, 0% 100%);
        }

        .l-option.circle {
            border-radius: 50%;
        }

        .l-option.square {
            border-radius: 0;
        }

        /* 3D Cube Pattern */
        .cube-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            max-width: 300px;
            margin: 0 auto;
        }

        .cube-cell {
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cube {
            width: 40px;
            height: 40px;
            background: #667eea;
            position: relative;
            transform: rotateX(45deg) rotateZ(45deg);
        }

        .cube.empty-cube {
            background: #667eea;
        }

        .cube.right-lines {
            background: 
                linear-gradient(90deg, #667eea 0%, #667eea 100%),
                linear-gradient(0deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%);
            background-size: 40px 40px, 8px 8px;
        }

        .cube.top-right-lines {
            background: 
                linear-gradient(0deg, #667eea 0%, #667eea 100%),
                linear-gradient(90deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%),
                linear-gradient(0deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%);
            background-size: 40px 40px, 8px 8px, 8px 8px;
        }

        .cube.front-lines {
            background: 
                linear-gradient(0deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%);
            background-size: 8px 8px;
        }

        .cube.front-right-lines {
            background: 
                linear-gradient(0deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%),
                linear-gradient(90deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%);
            background-size: 8px 8px, 8px 8px;
        }

        .cube.top-front-right-lines {
            background: 
                linear-gradient(0deg, #667eea 0%, #667eea 100%),
                linear-gradient(0deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%),
                linear-gradient(90deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%);
            background-size: 40px 40px, 8px 8px, 8px 8px;
        }

        .cube.top-front-lines {
            background: 
                linear-gradient(0deg, #667eea 0%, #667eea 100%),
                linear-gradient(0deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%);
            background-size: 40px 40px, 8px 8px;
        }

        .cube-option {
            width: 40px;
            height: 40px;
            background: #667eea;
            margin: auto;
            transform: rotateX(45deg) rotateZ(45deg);
        }

        .cube-option.top-right-lines {
            background: 
                linear-gradient(0deg, #667eea 0%, #667eea 100%),
                linear-gradient(90deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%);
            background-size: 40px 40px, 8px 8px;
        }

        .cube-option.top-front-right-lines {
            background: 
                linear-gradient(0deg, #667eea 0%, #667eea 100%),
                linear-gradient(0deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%),
                linear-gradient(90deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%);
            background-size: 40px 40px, 8px 8px, 8px 8px;
        }

        .cube-option.all-vertical {
            background: 
                linear-gradient(90deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%);
            background-size: 8px 8px;
        }

        .cube-option.top-front-lines {
            background: 
                linear-gradient(0deg, #667eea 0%, #667eea 100%),
                linear-gradient(0deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%);
            background-size: 40px 40px, 8px 8px;
        }

        .cube-option.top-horizontal-front-vertical {
            background: 
                linear-gradient(0deg, #667eea 0%, #667eea 100%),
                linear-gradient(90deg, transparent 0%, transparent 49%, #fff 49%, #fff 51%, transparent 51%, transparent 100%);
            background-size: 40px 40px, 8px 8px;
        }

        /* Line Intersection Pattern */
        .line-intersection {
            width: 300px;
            height: 200px;
            background: #f0f0f0;
            position: relative;
            margin: 0 auto;
        }

        .line {
            position: absolute;
            height: 2px;
            background: #667eea;
        }

        .blue-line-1 {
            width: 150px;
            top: 50px;
            left: 0;
            transform: rotate(10deg);
        }

        .blue-line-2 {
            width: 150px;
            top: 100px;
            left: 0;
            transform: rotate(10deg);
        }

        .red-line-1 {
            width: 100px;
            top: 0;
            left: 100px;
            transform: rotate(90deg);
        }

        .red-line-2 {
            width: 100px;
            top: 0;
            left: 200px;
            transform: rotate(90deg);
        }

        .yellow-line-1 {
            width: 100px;
            top: 0;
            left: 50px;
            transform: rotate(90deg);
            background: #ffc107;
        }

        .yellow-line-2 {
            width: 100px;
            top: 0;
            left: 150px;
            transform: rotate(90deg);
            background: #ffc107;
        }

        .intersection-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: white;
            border: 2px solid #ff6b6b;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: #ff6b6b;
        }

        .intersection-option {
            width: 60px;
            height: 60px;
            background: #f0f0f0;
            margin: auto;
            position: relative;
        }

        .intersection-option.pattern-1 {
            background: 
                linear-gradient(45deg, #667eea 0%, #667eea 49%, transparent 49%, transparent 51%, #667eea 51%, #667eea 100%),
                linear-gradient(-45deg, #667eea 0%, #667eea 49%, transparent 49%, transparent 51%, #667eea 51%, #667eea 100%);
        }

        .intersection-option.pattern-2 {
            background: 
                linear-gradient(45deg, transparent 0%, transparent 49%, #667eea 49%, #667eea 51%, transparent 51%, transparent 100%),
                linear-gradient(-45deg, transparent 0%, transparent 49%, #667eea 49%, #667eea 51%, transparent 51%, transparent 100%);
        }

        .intersection-option.pattern-3 {
            background: 
                linear-gradient(0deg, #667eea 0%, #667eea 100%),
                linear-gradient(90deg, #667eea 0%, #667eea 100%);
        }

        .intersection-option.pattern-4 {
            background: 
                linear-gradient(0deg, transparent 0%, transparent 49%, #667eea 49%, #667eea 51%, transparent 51%, transparent 100%),
                linear-gradient(90deg, transparent 0%, transparent 49%, #667eea 49%, #667eea 51%, transparent 51%, transparent 100%);
        }

        .intersection-option.pattern-5 {
            background: 
                linear-gradient(45deg, #667eea 0%, #667eea 49%, transparent 49%, transparent 51%, #667eea 51%, #667eea 100%);
        }

        .intersection-option.pattern-6 {
            background: 
                linear-gradient(-45deg, #667eea 0%, #667eea 49%, transparent 49%, transparent 51%, #667eea 51%, #667eea 100%);
        }

        /* Circle Quarter Pattern */
        .circle-quarter-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            max-width: 200px;
            margin: 0 auto;
        }

        .circle-cell {
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 3px solid #667eea;
            position: relative;
        }

        .circle.bottom-right-quarter {
            background: conic-gradient(from 0deg, #667eea 0deg, #667eea 90deg, transparent 90deg, transparent 360deg);
        }

        .circle.bottom-left-quarter {
            background: conic-gradient(from 90deg, #667eea 90deg, #667eea 180deg, transparent 180deg, transparent 360deg);
        }

        .circle.top-right-quarter {
            background: conic-gradient(from 270deg, #667eea 270deg, #667eea 360deg, transparent 0deg, transparent 270deg);
        }

        .circle.top-left-quarter {
            background: conic-gradient(from 180deg, #667eea 180deg, #667eea 270deg, transparent 270deg, transparent 360deg);
        }

        .circle-option {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 3px solid #667eea;
            margin: auto;
        }

        .circle-option.top-left-quarter {
            background: conic-gradient(from 180deg, #667eea 180deg, #667eea 270deg, transparent 270deg, transparent 360deg);
        }

        .circle-option.bottom-right-quarter {
            background: conic-gradient(from 0deg, #667eea 0deg, #667eea 90deg, transparent 90deg, transparent 360deg);
        }

        .circle-option.cross-pattern {
            background: 
                linear-gradient(0deg, #667eea 0%, #667eea 100%),
                linear-gradient(90deg, #667eea 0%, #667eea 100%);
            background-size: 60px 60px, 60px 60px;
            background-position: center, center;
        }

        .circle-option.bottom-left-quarter {
            background: conic-gradient(from 90deg, #667eea 90deg, #667eea 180deg, transparent 180deg, transparent 360deg);
        }

        .circle-option.top-right-quarter {
            background: conic-gradient(from 270deg, #667eea 270deg, #667eea 360deg, transparent 0deg, transparent 270deg);
        }

        /* Text Question Styling */
        .text-question {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 15px;
            border: 2px solid #e9ecef;
            margin: 2rem 0;
        }

        .text-question h3 {
            color: #333;
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .text-options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .text-option {
            background: white;
            padding: 1rem;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .text-option:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .text-option.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .pattern-row {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        .pattern-row > div {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 80px;
            height: 80px;
            border: 2px solid #ddd;
            border-radius: 10px;
            background: white;
            transition: all 0.3s ease;
        }

        .pattern-row > div:hover {
            border-color: #667eea;
            transform: scale(1.05);
        }

        .question-mark {
            background: linear-gradient(45deg, #667eea, #764ba2) !important;
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }

        /* Shape Classes */
        .shape {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .shape.circle {
            background: #667eea;
            border-radius: 50%;
        }

        .shape.square {
            background: #4CAF50;
        }

        .shape.triangle {
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .shape.diamond {
            background: #9C27B0;
            transform: rotate(45deg);
        }

        .shape.star {
            background: #FFD700;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }

        .shape.heart {
            background: #E91E63;
            clip-path: path('M12,21.35l-1.45-1.32C5.4,15.36,2,12.28,2,8.5C2,5.42,4.42,3,7.5,3c1.74,0,3.41,0.81,4.5,2.09C13.09,3.81,14.76,3,16.5,3C19.58,3,22,5.42,22,8.5c0,3.78-3.4,6.86-8.55,11.54L12,21.35z');
        }

        .shape.cross {
            background: #795548;
            clip-path: polygon(40% 0%, 60% 0%, 60% 40%, 100% 40%, 100% 60%, 60% 60%, 60% 100%, 40% 100%, 40% 60%, 0% 60%, 0% 40%, 40% 40%);
        }

        /* Arrow Classes */
        .arrow {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #333;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .arrow.up {
            transform: rotate(0deg);
        }

        .arrow.right {
            transform: rotate(90deg);
        }

        .arrow.down {
            transform: rotate(180deg);
        }

        .arrow.left {
            transform: rotate(270deg);
        }

        /* Colored Circle Classes */
        .colored-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .colored-circle.red {
            background: #f44336;
        }

        .colored-circle.blue {
            background: #2196F3;
        }

        .colored-circle.green {
            background: #4CAF50;
        }

        .colored-circle.yellow {
            background: #FFD700;
        }

        /* Size Circle Classes */
        .size-circle {
            border-radius: 50%;
            background: #667eea;
        }

        .size-circle.small {
            width: 30px;
            height: 30px;
        }

        .size-circle.medium {
            width: 40px;
            height: 40px;
        }

        .size-circle.large {
            width: 50px;
            height: 50px;
        }

        .size-circle.xlarge {
            width: 60px;
            height: 60px;
        }

        /* Position Dot Classes */
        .position-dot {
            width: 20px;
            height: 20px;
            background: #333;
            border-radius: 50%;
            position: relative;
        }

        .position-dot.top-left {
            top: -10px;
            left: -10px;
        }

        .position-dot.top-right {
            top: -10px;
            right: -10px;
        }

        .position-dot.bottom-left {
            bottom: -10px;
            left: -10px;
        }

        .position-dot.bottom-right {
            bottom: -10px;
            right: -10px;
        }

        /* Rotating Shape Classes */
        .rotating-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            border: 2px solid #333;
        }

        .rotating-shape.square-0 {
            transform: rotate(0deg);
        }

        .rotating-shape.square-90 {
            transform: rotate(90deg);
        }

        .rotating-shape.square-180 {
            transform: rotate(180deg);
        }

        .rotating-shape.square-270 {
            transform: rotate(270deg);
        }

        /* Mirror Shape Classes */
        .mirror-shape {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .mirror-shape.left {
            transform: scaleX(1);
        }

        .mirror-shape.right {
            transform: scaleX(-1);
        }

        .mirror-shape.up {
            transform: rotate(-90deg);
        }

        .mirror-shape.down {
            transform: rotate(90deg);
        }

        /* Folding Shape Classes */
        .folding-shape {
            width: 40px;
            height: 40px;
            background: #9C27B0;
            border: 2px solid #333;
        }

        .folding-shape.unfolded {
            transform: rotate(0deg);
        }

        .folding-shape.half-folded {
            transform: rotate(45deg);
        }

        .folding-shape.folded {
            transform: rotate(90deg);
        }

        .folding-shape.twisted {
            transform: rotate(180deg);
        }

        /* Perspective Cube Classes */
        .perspective-cube {
            width: 40px;
            height: 40px;
            background: #795548;
            position: relative;
        }

        .perspective-cube.front {
            transform: rotateX(0deg) rotateY(0deg);
        }

        .perspective-cube.side {
            transform: rotateX(0deg) rotateY(45deg);
        }

        .perspective-cube.top {
            transform: rotateX(45deg) rotateY(0deg);
        }

        .perspective-cube.corner {
            transform: rotateX(45deg) rotateY(45deg);
        }

        /* Transform Shape Classes */
        .transform-shape {
            width: 40px;
            height: 40px;
        }

        .transform-shape.circle {
            background: #667eea;
            border-radius: 50%;
        }

        .transform-shape.oval {
            background: #4CAF50;
            border-radius: 50%;
            width: 50px;
            height: 30px;
        }

        .transform-shape.rectangle {
            background: #FF9800;
            width: 50px;
            height: 30px;
        }

        .transform-shape.triangle {
            background: #9C27B0;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        /* Symmetry Shape Classes */
        .symmetry-shape {
            width: 40px;
            height: 40px;
            background: #333;
            position: relative;
        }

        .symmetry-shape.horizontal::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.vertical::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.diagonal::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 49%, white 49%, white 51%, transparent 51%);
        }

        .symmetry-shape.none {
            background: #666;
        }

        /* Number Dot Classes */
        .number-dot {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .number-dot.one::after {
            content: '1';
        }

        .number-dot.two::after {
            content: '2';
        }

        .number-dot.three::after {
            content: '3';
        }

        .number-dot.four::after {
            content: '4';
        }

        /* Alternate Shape Classes */
        .alternate-shape {
            width: 40px;
            height: 40px;
            border: 2px solid #333;
        }

        .alternate-shape.filled {
            background: #667eea;
        }

        .alternate-shape.empty {
            background: white;
        }

        .alternate-shape.striped {
            background: repeating-linear-gradient(45deg, #667eea, #667eea 5px, transparent 5px, transparent 10px);
        }

        .alternate-shape.dotted {
            background: radial-gradient(circle, #667eea 2px, transparent 2px);
            background-size: 10px 10px;
        }

        /* Progressive Shape Classes */
        .progressive-shape {
            background: #4CAF50;
            border-radius: 50%;
        }

        .progressive-shape.small {
            width: 30px;
            height: 30px;
        }

        .progressive-shape.medium {
            width: 40px;
            height: 40px;
        }

        .progressive-shape.large {
            width: 50px;
            height: 50px;
        }

        .progressive-shape.xlarge {
            width: 60px;
            height: 60px;
        }

        /* Combo Shape Classes */
        .combo-shape {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .combo-shape.circle-red {
            background: #f44336;
        }

        .combo-shape.square-blue {
            background: #2196F3;
            border-radius: 0;
        }

        .combo-shape.triangle-green {
            background: #4CAF50;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .combo-shape.diamond-yellow {
            background: #FFD700;
            transform: rotate(45deg);
        }

        /* Reverse Shape Classes */
        .reverse-shape {
            width: 40px;
            height: 40px;
            background: #9C27B0;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .reverse-shape.normal {
            transform: scaleY(1);
        }

        .reverse-shape.flipped {
            transform: scaleY(-1);
        }

        .reverse-shape.rotated {
            transform: rotate(180deg);
        }

        .reverse-shape.mirrored {
            transform: scaleX(-1);
        }

        /* Skip Shape Classes */
        .skip-shape {
            width: 40px;
            height: 40px;
            background: #FF9800;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .skip-shape.first::after {
            content: '1';
        }

        .skip-shape.second::after {
            content: '2';
        }

        .skip-shape.third::after {
            content: '3';
        }

        .skip-shape.fifth::after {
            content: '5';
        }

        /* Count Dots Classes */
        .count-dots {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 50%;
            position: relative;
        }

        .count-dots.one-dot::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .count-dots.two-dots::after {
            content: '';
            position: absolute;
            top: 25%;
            left: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-dots.two-dots::before {
            content: '';
            position: absolute;
            top: 25%;
            right: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-dots.three-dots::after {
            content: '';
            position: absolute;
            top: 25%;
            left: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-dots.three-dots::before {
            content: '';
            position: absolute;
            top: 25%;
            right: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-dots.three-dots {
            background: linear-gradient(45deg, #667eea, #667eea 49%, transparent 49%, transparent 51%, #667eea 51%);
        }

        .count-dots.three-dots::after {
            top: 50%;
            left: 50%;
        }

        .count-dots.four-dots::after {
            content: '';
            position: absolute;
            top: 25%;
            left: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-dots.four-dots::before {
            content: '';
            position: absolute;
            top: 25%;
            right: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-dots.four-dots {
            background: linear-gradient(45deg, #667eea, #667eea 49%, transparent 49%, transparent 51%, #667eea 51%);
        }

        .count-dots.four-dots::after {
            top: 25%;
            left: 25%;
        }

        .count-dots.four-dots::before {
            top: 25%;
            right: 25%;
        }

        .count-dots.four-dots::after {
            content: '';
            position: absolute;
            top: 25%;
            left: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-dots.four-dots::before {
            content: '';
            position: absolute;
            top: 25%;
            right: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-dots.four-dots::after {
            top: 75%;
            left: 25%;
        }

        .count-dots.four-dots::before {
            top: 75%;
            right: 25%;
        }

        /* Geo Shape Classes */
        .geo-shape {
            width: 40px;
            height: 40px;
            background: #4CAF50;
            border-radius: 50%;
        }

        .geo-shape.single {
            background: #4CAF50;
        }

        .geo-shape.double {
            background: linear-gradient(45deg, #4CAF50 50%, #2196F3 50%);
        }

        .geo-shape.triple {
            background: conic-gradient(#4CAF50 0deg 120deg, #2196F3 120deg 240deg, #FF9800 240deg 360deg);
        }

        .geo-shape.quadruple {
            background: conic-gradient(#4CAF50 0deg 90deg, #2196F3 90deg 180deg, #FF9800 180deg 270deg, #9C27B0 270deg 360deg);
        }

        /* Fraction Visual Classes */
        .fraction-visual {
            width: 40px;
            height: 40px;
            background: #667eea;
            border: 2px solid #333;
            position: relative;
        }

        .fraction-visual.quarter::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 50%;
            height: 50%;
            background: white;
        }

        .fraction-visual.half::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50%;
            background: white;
        }

        .fraction-visual.three-quarter::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 75%;
            background: white;
        }

        .fraction-visual.full {
            background: white;
            border-color: #667eea;
        }

        /* Grid Pattern Classes */
        .grid-pattern {
            width: 40px;
            height: 40px;
            background: #333;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 2px;
        }

        .grid-pattern.one-cell {
            background: #667eea;
        }

        .grid-pattern.two-cells {
            background: #333;
        }

        .grid-pattern.two-cells::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 50%;
            height: 100%;
            background: #667eea;
        }

        .grid-pattern.three-cells {
            background: #333;
        }

        .grid-pattern.three-cells::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #667eea;
        }

        .grid-pattern.three-cells::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50%;
            height: 50%;
            background: #333;
        }

        .grid-pattern.four-cells {
            background: #667eea;
        }

        /* Angle Shape Classes */
        .angle-shape {
            width: 40px;
            height: 40px;
            background: #FF9800;
            position: relative;
        }

        .angle-shape.acute::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        .angle-shape.right::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        .angle-shape.obtuse::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        .angle-shape.straight::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        /* Symmetry Count Classes */
        .symmetry-count {
            width: 40px;
            height: 40px;
            background: #9C27B0;
            position: relative;
        }

        .symmetry-count.one-line::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-count.two-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-count.two-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-count.three-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-count.three-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-count.three-lines {
            background: conic-gradient(#9C27B0 0deg 120deg, transparent 120deg 240deg, #9C27B0 240deg 360deg);
        }

        .symmetry-count.four-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-count.four-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-count.four-lines {
            background: conic-gradient(#9C27B0 0deg 90deg, transparent 90deg 180deg, #9C27B0 180deg 270deg, transparent 270deg 360deg);
        }

        /* Memory Shape Classes */
        .memory-shape {
            width: 40px;
            height: 40px;
        }

        .memory-shape.circle {
            background: #667eea;
            border-radius: 50%;
        }

        .memory-shape.square {
            background: #4CAF50;
        }

        .memory-shape.triangle {
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .memory-shape.diamond {
            background: #9C27B0;
            transform: rotate(45deg);
        }

        /* Color Memory Classes */
        .color-memory {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .color-memory.red {
            background: #f44336;
        }

        .color-memory.blue {
            background: #2196F3;
        }

        .color-memory.green {
            background: #4CAF50;
        }

        .color-memory.yellow {
            background: #FFD700;
        }

        /* Position Memory Classes */
        .position-memory {
            width: 40px;
            height: 40px;
            background: #333;
            border-radius: 50%;
            position: relative;
        }

        .position-memory.top {
            top: -10px;
        }

        .position-memory.middle {
            top: 0;
        }

        .position-memory.bottom {
            bottom: -10px;
        }

        .position-memory.center {
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: auto;
        }

        /* Size Memory Classes */
        .size-memory {
            background: #667eea;
            border-radius: 50%;
        }

        .size-memory.small {
            width: 30px;
            height: 30px;
        }

        .size-memory.medium {
            width: 40px;
            height: 40px;
        }

        .size-memory.large {
            width: 50px;
            height: 50px;
        }

        .size-memory.xlarge {
            width: 60px;
            height: 60px;
        }

        /* Shape Memory Classes */
        .shape-memory {
            width: 40px;
            height: 40px;
        }

        .shape-memory.star {
            background: #FFD700;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }

        .shape-memory.heart {
            background: #E91E63;
            clip-path: path('M12,21.35l-1.45-1.32C5.4,15.36,2,12.28,2,8.5C2,5.42,4.42,3,7.5,3c1.74,0,3.41,0.81,4.5,2.09C13.09,3.81,14.76,3,16.5,3C19.58,3,22,5.42,22,8.5c0,3.78-3.4,6.86-8.55,11.54L12,21.35z');
        }

        .shape-memory.diamond {
            background: #9C27B0;
            transform: rotate(45deg);
        }

        .shape-memory.cross {
            background: #795548;
            clip-path: polygon(40% 0%, 60% 0%, 60% 40%, 100% 40%, 100% 60%, 60% 60%, 60% 100%, 40% 100%, 40% 60%, 0% 60%, 0% 40%, 40% 40%);
        }

        /* Pattern Memory Classes */
        .pattern-memory {
            width: 40px;
            height: 40px;
            background: #333;
        }

        .pattern-memory.dots {
            background: radial-gradient(circle, #667eea 2px, transparent 2px);
            background-size: 10px 10px;
        }

        .pattern-memory.stripes {
            background: repeating-linear-gradient(90deg, #667eea, #667eea 5px, transparent 5px, transparent 10px);
        }

        .pattern-memory.checks {
            background: repeating-linear-gradient(45deg, #667eea 0px, #667eea 5px, transparent 5px, transparent 10px);
        }

        .pattern-memory.waves {
            background: repeating-linear-gradient(45deg, #667eea 0px, #667eea 5px, transparent 5px, transparent 10px);
        }

        /* Matrix Grid Styling - Raven's Progressive Matrices Style */
        .matrix-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin: 2rem 0;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .matrix-cell {
            width: 100px;
            height: 100px;
            border: 3px solid #1e3a8a;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .matrix-cell.question-mark {
            background: #1e3a8a;
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }

        .sequence-row {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        .sequence-row > div {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100px;
            height: 100px;
            border: 3px solid #1e3a8a;
            background: white;
        }

        /* Matrix Shape Classes - Raven's Progressive Matrices Style */
        .matrix-shape {
            background: #3b82f6 !important;
            display: block !important;
            margin: 0 auto !important;
        }

        .matrix-shape.small-circle {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }

        .matrix-shape.large-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
        }

        .matrix-shape.small-square {
            width: 20px;
            height: 20px;
        }

        .matrix-shape.large-square {
            width: 60px;
            height: 60px;
        }

        .matrix-shape.small-triangle {
            width: 20px;
            height: 20px;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .matrix-shape.large-triangle {
            width: 60px;
            height: 60px;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .matrix-shape.small-diamond {
            width: 20px;
            height: 20px;
            transform: rotate(45deg);
        }

        .matrix-shape.large-diamond {
            width: 60px;
            height: 60px;
            transform: rotate(45deg);
        }

        /* Basic Shape Classes */
        .shape-circle {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 50%;
        }

        .shape-square {
            width: 40px;
            height: 40px;
            background: #4CAF50;
        }

        .shape-triangle {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .shape-diamond {
            width: 40px;
            height: 40px;
            background: #9C27B0;
            transform: rotate(45deg);
        }

        .shape-star {
            width: 40px;
            height: 40px;
            background: #FFD700;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }

        .shape-hexagon {
            width: 40px;
            height: 40px;
            background: #E91E63;
            clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
        }

        /* Color Shape Classes */
        .color-shape {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .color-shape.red {
            background: #f44336;
        }

        .color-shape.blue {
            background: #2196F3;
        }

        .color-shape.green {
            background: #4CAF50;
        }

        .color-shape.yellow {
            background: #FFD700;
        }

        .color-shape.purple {
            background: #9C27B0;
        }

        .color-shape.orange {
            background: #FF9800;
        }

        /* Size Shape Classes */
        .size-shape {
            background: #667eea;
            border-radius: 50%;
        }

        .size-shape.small {
            width: 30px;
            height: 30px;
        }

        .size-shape.medium {
            width: 40px;
            height: 40px;
        }

        .size-shape.large {
            width: 50px;
            height: 50px;
        }

        .size-shape.xlarge {
            width: 60px;
            height: 60px;
        }

        .size-shape.tiny {
            width: 20px;
            height: 20px;
        }

        .size-shape.huge {
            width: 70px;
            height: 70px;
        }

        /* Rotation Shape Classes */
        .rotation-shape {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .rotation-shape.up {
            transform: rotate(0deg);
        }

        .rotation-shape.right {
            transform: rotate(90deg);
        }

        .rotation-shape.down {
            transform: rotate(180deg);
        }

        .rotation-shape.left {
            transform: rotate(270deg);
        }

        .rotation-shape.diagonal {
            transform: rotate(45deg);
        }

        .rotation-shape.corner {
            transform: rotate(135deg);
        }

        /* Fill Shape Classes */
        .fill-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            border: 2px solid #333;
        }

        .fill-shape.empty {
            background: white;
        }

        .fill-shape.half {
            background: linear-gradient(to right, #667eea 50%, white 50%);
        }

        .fill-shape.full {
            background: #667eea;
        }

        .fill-shape.quarter {
            background: linear-gradient(to right, #667eea 25%, white 25%);
        }

        .fill-shape.three-quarter {
            background: linear-gradient(to right, #667eea 75%, white 75%);
        }

        .fill-shape.dotted {
            background-image: radial-gradient(circle, #667eea 2px, transparent 2px);
            background-size: 8px 8px;
        }

        /* Border Shape Classes */
        .border-shape {
            width: 40px;
            height: 40px;
            background: white;
        }

        .border-shape.none {
            border: none;
        }

        .border-shape.thin {
            border: 2px solid #333;
        }

        .border-shape.thick {
            border: 4px solid #333;
        }

        .border-shape.double {
            border: 2px double #333;
        }

        .border-shape.dashed {
            border: 2px dashed #333;
        }

        .border-shape.dotted {
            border: 2px dotted #333;
        }

        /* Position Shape Classes */
        .position-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            position: relative;
        }

        .position-shape.top-left::after {
            content: '';
            position: absolute;
            top: 5px;
            left: 5px;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        .position-shape.top-right::after {
            content: '';
            position: absolute;
            top: 5px;
            right: 5px;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        .position-shape.bottom-left::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 5px;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        .position-shape.bottom-right::after {
            content: '';
            position: absolute;
            bottom: 5px;
            right: 5px;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        .position-shape.center::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .position-shape.diagonal::after {
            content: '';
            position: absolute;
            top: 5px;
            left: 5px;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        /* Number Shape Classes */
        .number-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
        }

        .number-shape.one::after {
            content: '1';
        }

        .number-shape.two::after {
            content: '2';
        }

        .number-shape.three::after {
            content: '3';
        }

        .number-shape.four::after {
            content: '4';
        }

        .number-shape.five::after {
            content: '5';
        }

        .number-shape.zero::after {
            content: '0';
        }

        /* Symmetry Shape Classes */
        .symmetry-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            position: relative;
        }

        .symmetry-shape.none {
            background: #667eea;
        }

        .symmetry-shape.vertical::after {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            width: 2px;
            height: 100%;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.horizontal::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.both::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(to right, white 49%, transparent 49%, transparent 51%, white 51%),
                linear-gradient(to bottom, white 49%, transparent 49%, transparent 51%, white 51%);
        }

        .symmetry-shape.diagonal::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 49%, white 49%, white 51%, transparent 51%);
        }

        .symmetry-shape.radial::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        /* Alternate Shape Classes */
        .alternate-shape {
            width: 40px;
            height: 40px;
            border: 2px solid #333;
        }

        .alternate-shape.filled {
            background: #667eea;
        }

        .alternate-shape.empty {
            background: white;
        }

        .alternate-shape.striped {
            background: repeating-linear-gradient(45deg, #667eea, #667eea 5px, white 5px, white 10px);
        }

        .alternate-shape.dotted {
            background-image: radial-gradient(circle, #667eea 2px, transparent 2px);
            background-size: 8px 8px;
        }

        .alternate-shape.half-filled {
            background: linear-gradient(to right, #667eea 50%, white 50%);
        }

        .alternate-shape.gradient {
            background: linear-gradient(45deg, #667eea, #9C27B0);
        }

        /* Visual Option Styling */
        .option-visual {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 0.5rem;
        }

        .option-visual > div {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: white;
            transition: all 0.3s ease;
        }

        .option:hover .option-visual > div {
            border-color: #667eea;
            transform: scale(1.05);
        }

        .option.selected .option-visual > div {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        /* Triangle and Rotation Classes */
        .triangle-up {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .triangle-right {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            transform: rotate(90deg);
        }

        .triangle-down {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            transform: rotate(180deg);
        }

        .triangle-left {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            transform: rotate(270deg);
        }

        .square-0 {
            width: 40px;
            height: 40px;
            background: #667eea;
            transform: rotate(0deg);
        }

        .square-90 {
            width: 40px;
            height: 40px;
            background: #667eea;
            transform: rotate(90deg);
        }

        .square-180 {
            width: 40px;
            height: 40px;
            background: #667eea;
            transform: rotate(180deg);
        }

        .square-270 {
            width: 40px;
            height: 40px;
            background: #667eea;
            transform: rotate(270deg);
        }

        .circle-small {
            width: 30px;
            height: 30px;
            background: #4CAF50;
            border-radius: 50%;
        }

        .circle-medium {
            width: 40px;
            height: 40px;
            background: #4CAF50;
            border-radius: 50%;
        }

        .circle-large {
            width: 50px;
            height: 50px;
            background: #4CAF50;
            border-radius: 50%;
        }

        /* Color and Combo Shape Classes */
        .red-circle {
            width: 40px;
            height: 40px;
            background: #f44336;
            border-radius: 50%;
        }

        .blue-square {
            width: 40px;
            height: 40px;
            background: #2196F3;
        }

        .green-triangle {
            width: 40px;
            height: 40px;
            background: #4CAF50;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .yellow-diamond {
            width: 40px;
            height: 40px;
            background: #FFD700;
            transform: rotate(45deg);
        }

        .red-square {
            width: 40px;
            height: 40px;
            background: #f44336;
        }

        .blue-triangle {
            width: 40px;
            height: 40px;
            background: #2196F3;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .green-diamond {
            width: 40px;
            height: 40px;
            background: #4CAF50;
            transform: rotate(45deg);
        }

        .yellow-circle {
            width: 40px;
            height: 40px;
            background: #FFD700;
            border-radius: 50%;
        }

        .red-diamond {
            width: 40px;
            height: 40px;
            background: #f44336;
            transform: rotate(45deg);
        }

        .blue-circle {
            width: 40px;
            height: 40px;
            background: #2196F3;
            border-radius: 50%;
        }

        .green-square {
            width: 40px;
            height: 40px;
            background: #4CAF50;
        }

        .yellow-triangle {
            width: 40px;
            height: 40px;
            background: #FFD700;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .red-triangle {
            width: 40px;
            height: 40px;
            background: #f44336;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .blue-diamond {
            width: 40px;
            height: 40px;
            background: #2196F3;
            transform: rotate(45deg);
        }

        .purple-star {
            width: 40px;
            height: 40px;
            background: #9C27B0;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }

        .orange-heart {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: path('M12,21.35l-1.45-1.32C5.4,15.36,2,12.28,2,8.5C2,5.42,4.42,3,7.5,3c1.74,0,3.41,0.81,4.5,2.09C13.09,3.81,14.76,3,16.5,3C19.58,3,22,5.42,22,8.5c0,3.78-3.4,6.86-8.55,11.54L12,21.35z');
        }

        /* Symmetry Shape Classes */
        .symmetry-shape {
            width: 40px;
            height: 40px;
            background: #333;
            position: relative;
        }

        .symmetry-shape.horizontal-line::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.vertical-line::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.diagonal-line::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 49%, white 49%, white 51%, transparent 51%);
        }

        .symmetry-shape.two-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.two-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.three-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.three-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.three-lines {
            background: conic-gradient(#333 0deg 120deg, transparent 120deg 240deg, #333 240deg 360deg);
        }

        .symmetry-shape.four-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.four-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.four-lines {
            background: conic-gradient(#333 0deg 90deg, transparent 90deg 180deg, #333 180deg 270deg, transparent 270deg 360deg);
        }

        .symmetry-shape.no-lines {
            background: #666;
        }

        .symmetry-shape.one-line::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        /* Fold Shape Classes */
        .fold-shape {
            width: 40px;
            height: 40px;
            background: #9C27B0;
            border: 2px solid #333;
        }

        .fold-shape.unfolded {
            transform: rotate(0deg);
        }

        .fold-shape.half-folded {
            transform: rotate(45deg);
        }

        .fold-shape.folded {
            transform: rotate(90deg);
        }

        .fold-shape.twisted {
            transform: rotate(180deg);
        }

        .fold-shape.double-folded {
            transform: rotate(135deg);
        }

        .fold-shape.reverse-folded {
            transform: rotate(-90deg);
        }

        /* Perspective Shape Classes */
        .perspective-shape {
            width: 40px;
            height: 40px;
            background: #795548;
            position: relative;
        }

        .perspective-shape.front-view {
            transform: rotateX(0deg) rotateY(0deg);
        }

        .perspective-shape.side-view {
            transform: rotateX(0deg) rotateY(45deg);
        }

        .perspective-shape.top-view {
            transform: rotateX(45deg) rotateY(0deg);
        }

        .perspective-shape.corner-view {
            transform: rotateX(45deg) rotateY(45deg);
        }

        .perspective-shape.bottom-view {
            transform: rotateX(-45deg) rotateY(0deg);
        }

        .perspective-shape.diagonal-view {
            transform: rotateX(30deg) rotateY(30deg);
        }

        /* Mirror Shape Classes */
        .mirror-shape {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .mirror-shape.normal {
            transform: scaleY(1);
        }

        .mirror-shape.flipped {
            transform: scaleY(-1);
        }

        .mirror-shape.rotated {
            transform: rotate(180deg);
        }

        .mirror-shape.inverted {
            transform: scaleX(-1);
        }

        .mirror-shape.scaled {
            transform: scale(1.2);
        }

        .mirror-shape.skewed {
            transform: skew(20deg);
        }

        /* Size Shape Classes */
        .size-shape {
            background: #667eea;
            border-radius: 50%;
        }

        .size-shape.small {
            width: 30px;
            height: 30px;
        }

        .size-shape.medium {
            width: 40px;
            height: 40px;
        }

        .size-shape.large {
            width: 50px;
            height: 50px;
        }

        .size-shape.xlarge {
            width: 60px;
            height: 60px;
        }

        .size-shape.tiny {
            width: 20px;
            height: 20px;
        }

        .size-shape.huge {
            width: 70px;
            height: 70px;
        }

        /* Position Shape Classes */
        .position-shape {
            width: 20px;
            height: 20px;
            background: #333;
            border-radius: 50%;
            position: relative;
        }

        .position-shape.top-left {
            top: -10px;
            left: -10px;
        }

        .position-shape.top-right {
            top: -10px;
            right: -10px;
        }

        .position-shape.bottom-left {
            bottom: -10px;
            left: -10px;
        }

        .position-shape.bottom-right {
            bottom: -10px;
            right: -10px;
        }

        .position-shape.center {
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: auto;
        }

        .position-shape.diagonal {
            top: -5px;
            left: -5px;
        }

        /* Transform Shape Classes */
        .transform-shape {
            width: 40px;
            height: 40px;
        }

        .transform-shape.circle {
            background: #667eea;
            border-radius: 50%;
        }

        .transform-shape.oval {
            background: #4CAF50;
            border-radius: 50%;
            width: 50px;
            height: 30px;
        }

        .transform-shape.rectangle {
            background: #FF9800;
            width: 50px;
            height: 30px;
        }

        .transform-shape.triangle {
            background: #9C27B0;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .transform-shape.diamond {
            background: #795548;
            transform: rotate(45deg);
        }

        .transform-shape.square {
            background: #333;
        }

        /* Number Shape Classes */
        .number-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .number-shape.one::after {
            content: '1';
        }

        .number-shape.two::after {
            content: '2';
        }

        .number-shape.three::after {
            content: '3';
        }

        .number-shape.four::after {
            content: '4';
        }

        .number-shape.five::after {
            content: '5';
        }

        .number-shape.zero::after {
            content: '0';
        }

        /* Alternate Shape Classes */
        .alternate-shape {
            width: 40px;
            height: 40px;
            border: 2px solid #333;
        }

        .alternate-shape.filled {
            background: #667eea;
        }

        .alternate-shape.empty {
            background: white;
        }

        .alternate-shape.striped {
            background: repeating-linear-gradient(45deg, #667eea, #667eea 5px, transparent 5px, transparent 10px);
        }

        .alternate-shape.dotted {
            background: radial-gradient(circle, #667eea 2px, transparent 2px);
            background-size: 10px 10px;
        }

        .alternate-shape.half-filled {
            background: linear-gradient(45deg, #667eea 50%, white 50%);
        }

        .alternate-shape.gradient {
            background: linear-gradient(45deg, #667eea, #764ba2);
        }

        /* Skip Shape Classes */
        .skip-shape {
            width: 40px;
            height: 40px;
            background: #FF9800;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .skip-shape.first::after {
            content: '1';
        }

        .skip-shape.second::after {
            content: '2';
        }

        .skip-shape.third::after {
            content: '3';
        }

        .skip-shape.fourth::after {
            content: '4';
        }

        .skip-shape.fifth::after {
            content: '5';
        }

        .skip-shape.sixth::after {
            content: '6';
        }

        /* Progressive Shape Classes */
        .progressive-shape {
            background: #4CAF50;
            border-radius: 50%;
        }

        .progressive-shape.small {
            width: 30px;
            height: 30px;
        }

        .progressive-shape.medium {
            width: 40px;
            height: 40px;
        }

        .progressive-shape.large {
            width: 50px;
            height: 50px;
        }

        .progressive-shape.xlarge {
            width: 60px;
            height: 60px;
        }

        .progressive-shape.tiny {
            width: 20px;
            height: 20px;
        }

        .progressive-shape.huge {
            width: 70px;
            height: 70px;
        }

        /* Count Shape Classes */
        .count-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 50%;
            position: relative;
        }

        .count-shape.one-dot::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .count-shape.two-dots::after {
            content: '';
            position: absolute;
            top: 25%;
            left: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.two-dots::before {
            content: '';
            position: absolute;
            top: 25%;
            right: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.three-dots::after {
            content: '';
            position: absolute;
            top: 25%;
            left: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.three-dots::before {
            content: '';
            position: absolute;
            top: 25%;
            right: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.three-dots {
            background: linear-gradient(45deg, #667eea, #667eea 49%, transparent 49%, transparent 51%, #667eea 51%);
        }

        .count-shape.three-dots::after {
            top: 50%;
            left: 50%;
        }

        .count-shape.four-dots::after {
            content: '';
            position: absolute;
            top: 25%;
            left: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.four-dots::before {
            content: '';
            position: absolute;
            top: 25%;
            right: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.four-dots {
            background: linear-gradient(45deg, #667eea, #667eea 49%, transparent 49%, transparent 51%, #667eea 51%);
        }

        .count-shape.four-dots::after {
            top: 75%;
            left: 25%;
        }

        .count-shape.four-dots::before {
            top: 75%;
            right: 25%;
        }

        .count-shape.five-dots::after {
            content: '';
            position: absolute;
            top: 25%;
            left: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.five-dots::before {
            content: '';
            position: absolute;
            top: 25%;
            right: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.five-dots {
            background: conic-gradient(#667eea 0deg 72deg, transparent 72deg 144deg, #667eea 144deg 216deg, transparent 216deg 288deg, #667eea 288deg 360deg);
        }

        .count-shape.zero-dots {
            background: #667eea;
        }

        /* Geo Shape Classes */
        .geo-shape {
            width: 40px;
            height: 40px;
            background: #4CAF50;
            border-radius: 50%;
        }

        .geo-shape.single {
            background: #4CAF50;
        }

        .geo-shape.double {
            background: linear-gradient(45deg, #4CAF50 50%, #2196F3 50%);
        }

        .geo-shape.triple {
            background: conic-gradient(#4CAF50 0deg 120deg, #2196F3 120deg 240deg, #FF9800 240deg 360deg);
        }

        .geo-shape.quadruple {
            background: conic-gradient(#4CAF50 0deg 90deg, #2196F3 90deg 180deg, #FF9800 180deg 270deg, #9C27B0 270deg 360deg);
        }

        /* Fraction Visual Classes */
        .fraction-visual {
            width: 40px;
            height: 40px;
            background: #667eea;
            border: 2px solid #333;
            position: relative;
        }

        .fraction-visual.quarter::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 50%;
            height: 50%;
            background: white;
        }

        .fraction-visual.half::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50%;
            background: white;
        }

        .fraction-visual.three-quarter::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 75%;
            background: white;
        }

        .fraction-visual.full {
            background: white;
            border-color: #667eea;
        }

        /* Grid Pattern Classes */
        .grid-pattern {
            width: 40px;
            height: 40px;
            background: #333;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 2px;
        }

        .grid-pattern.one-cell {
            background: #667eea;
        }

        .grid-pattern.two-cells {
            background: #333;
        }

        .grid-pattern.two-cells::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 50%;
            height: 100%;
            background: #667eea;
        }

        .grid-pattern.three-cells {
            background: #333;
        }

        .grid-pattern.three-cells::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #667eea;
        }

        .grid-pattern.three-cells::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50%;
            height: 50%;
            background: #333;
        }

        .grid-pattern.four-cells {
            background: #667eea;
        }

        /* Angle Shape Classes */
        .angle-shape {
            width: 40px;
            height: 40px;
            background: #FF9800;
            position: relative;
        }

        .angle-shape.acute::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        .angle-shape.right::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        .angle-shape.obtuse::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        .angle-shape.straight::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        /* Symmetry Count Classes */
        .symmetry-count {
            width: 40px;
            height: 40px;
            background: #9C27B0;
            position: relative;
        }

        .symmetry-count.one-line::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-count.two-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-count.two-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-count.three-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-count.three-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-count.three-lines {
            background: conic-gradient(#9C27B0 0deg 120deg, transparent 120deg 240deg, #9C27B0 240deg 360deg);
        }

        .symmetry-count.four-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-count.four-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-count.four-lines {
            background: conic-gradient(#9C27B0 0deg 90deg, transparent 90deg 180deg, #9C27B0 180deg 270deg, transparent 270deg 360deg);
        }

        /* Memory Shape Classes */
        .memory-shape {
            width: 40px;
            height: 40px;
        }

        .memory-shape.circle {
            background: #667eea;
            border-radius: 50%;
        }

        .memory-shape.square {
            background: #4CAF50;
        }

        .memory-shape.triangle {
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .memory-shape.diamond {
            background: #9C27B0;
            transform: rotate(45deg);
        }

        /* Color Memory Classes */
        .color-memory {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .color-memory.red {
            background: #f44336;
        }

        .color-memory.blue {
            background: #2196F3;
        }

        .color-memory.green {
            background: #4CAF50;
        }

        .color-memory.yellow {
            background: #FFD700;
        }

        /* Position Memory Classes */
        .position-memory {
            width: 40px;
            height: 40px;
            background: #333;
            border-radius: 50%;
            position: relative;
        }

        .position-memory.top {
            top: -10px;
        }

        .position-memory.middle {
            top: 0;
        }

        .position-memory.bottom {
            bottom: -10px;
        }

        .position-memory.center {
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: auto;
        }

        /* Size Memory Classes */
        .size-memory {
            background: #667eea;
            border-radius: 50%;
        }

        .size-memory.small {
            width: 30px;
            height: 30px;
        }

        .size-memory.medium {
            width: 40px;
            height: 40px;
        }

        .size-memory.large {
            width: 50px;
            height: 50px;
        }

        .size-memory.xlarge {
            width: 60px;
            height: 60px;
        }

        /* Shape Memory Classes */
        .shape-memory {
            width: 40px;
            height: 40px;
        }

        .shape-memory.star {
            background: #FFD700;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }

        .shape-memory.heart {
            background: #E91E63;
            clip-path: path('M12,21.35l-1.45-1.32C5.4,15.36,2,12.28,2,8.5C2,5.42,4.42,3,7.5,3c1.74,0,3.41,0.81,4.5,2.09C13.09,3.81,14.76,3,16.5,3C19.58,3,22,5.42,22,8.5c0,3.78-3.4,6.86-8.55,11.54L12,21.35z');
        }

        .shape-memory.diamond {
            background: #9C27B0;
            transform: rotate(45deg);
        }

        .shape-memory.cross {
            background: #795548;
            clip-path: polygon(40% 0%, 60% 0%, 60% 40%, 100% 40%, 100% 60%, 60% 60%, 60% 100%, 40% 100%, 40% 60%, 0% 60%, 0% 40%, 40% 40%);
        }

        /* Pattern Memory Classes */
        .pattern-memory {
            width: 40px;
            height: 40px;
            background: #333;
        }

        .pattern-memory.dots {
            background: radial-gradient(circle, #667eea 2px, transparent 2px);
            background-size: 10px 10px;
        }

        .pattern-memory.stripes {
            background: repeating-linear-gradient(90deg, #667eea, #667eea 5px, transparent 5px, transparent 10px);
        }

        .pattern-memory.checks {
            background: repeating-linear-gradient(45deg, #667eea 0px, #667eea 5px, transparent 5px, transparent 10px);
        }

        .pattern-memory.waves {
            background: repeating-linear-gradient(45deg, #667eea 0px, #667eea 5px, transparent 5px, transparent 10px);
        }

        /* Matrix Grid Styling - Raven's Progressive Matrices Style */
        .matrix-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin: 2rem 0;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .matrix-cell {
            width: 100px;
            height: 100px;
            border: 3px solid #1e3a8a;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .matrix-cell.question-mark {
            background: #1e3a8a;
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }

        .sequence-row {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        .sequence-row > div {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100px;
            height: 100px;
            border: 3px solid #1e3a8a;
            background: white;
        }

        /* Matrix Shape Classes - Raven's Progressive Matrices Style */
        .matrix-shape {
            background: #3b82f6 !important;
            display: block !important;
            margin: 0 auto !important;
        }

        .matrix-shape.small-circle {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }

        .matrix-shape.large-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
        }

        .matrix-shape.small-square {
            width: 20px;
            height: 20px;
        }

        .matrix-shape.large-square {
            width: 60px;
            height: 60px;
        }

        .matrix-shape.small-triangle {
            width: 20px;
            height: 20px;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .matrix-shape.large-triangle {
            width: 60px;
            height: 60px;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .matrix-shape.small-diamond {
            width: 20px;
            height: 20px;
            transform: rotate(45deg);
        }

        .matrix-shape.large-diamond {
            width: 60px;
            height: 60px;
            transform: rotate(45deg);
        }

        /* Basic Shape Classes */
        .shape-circle {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 50%;
        }

        .shape-square {
            width: 40px;
            height: 40px;
            background: #4CAF50;
        }

        .shape-triangle {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .shape-diamond {
            width: 40px;
            height: 40px;
            background: #9C27B0;
            transform: rotate(45deg);
        }

        .shape-star {
            width: 40px;
            height: 40px;
            background: #FFD700;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }

        .shape-hexagon {
            width: 40px;
            height: 40px;
            background: #E91E63;
            clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
        }

        /* Color Shape Classes */
        .color-shape {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .color-shape.red {
            background: #f44336;
        }

        .color-shape.blue {
            background: #2196F3;
        }

        .color-shape.green {
            background: #4CAF50;
        }

        .color-shape.yellow {
            background: #FFD700;
        }

        .color-shape.purple {
            background: #9C27B0;
        }

        .color-shape.orange {
            background: #FF9800;
        }

        /* Size Shape Classes */
        .size-shape {
            background: #667eea;
            border-radius: 50%;
        }

        .size-shape.small {
            width: 30px;
            height: 30px;
        }

        .size-shape.medium {
            width: 40px;
            height: 40px;
        }

        .size-shape.large {
            width: 50px;
            height: 50px;
        }

        .size-shape.xlarge {
            width: 60px;
            height: 60px;
        }

        .size-shape.tiny {
            width: 20px;
            height: 20px;
        }

        .size-shape.huge {
            width: 70px;
            height: 70px;
        }

        /* Rotation Shape Classes */
        .rotation-shape {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .rotation-shape.up {
            transform: rotate(0deg);
        }

        .rotation-shape.right {
            transform: rotate(90deg);
        }

        .rotation-shape.down {
            transform: rotate(180deg);
        }

        .rotation-shape.left {
            transform: rotate(270deg);
        }

        .rotation-shape.diagonal {
            transform: rotate(45deg);
        }

        .rotation-shape.corner {
            transform: rotate(135deg);
        }

        /* Fill Shape Classes */
        .fill-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            border: 2px solid #333;
        }

        .fill-shape.empty {
            background: white;
        }

        .fill-shape.half {
            background: linear-gradient(to right, #667eea 50%, white 50%);
        }

        .fill-shape.full {
            background: #667eea;
        }

        .fill-shape.quarter {
            background: linear-gradient(to right, #667eea 25%, white 25%);
        }

        .fill-shape.three-quarter {
            background: linear-gradient(to right, #667eea 75%, white 75%);
        }

        .fill-shape.dotted {
            background-image: radial-gradient(circle, #667eea 2px, transparent 2px);
            background-size: 8px 8px;
        }

        /* Border Shape Classes */
        .border-shape {
            width: 40px;
            height: 40px;
            background: white;
        }

        .border-shape.none {
            border: none;
        }

        .border-shape.thin {
            border: 2px solid #333;
        }

        .border-shape.thick {
            border: 4px solid #333;
        }

        .border-shape.double {
            border: 2px double #333;
        }

        .border-shape.dashed {
            border: 2px dashed #333;
        }

        .border-shape.dotted {
            border: 2px dotted #333;
        }

        /* Position Shape Classes */
        .position-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            position: relative;
        }

        .position-shape.top-left::after {
            content: '';
            position: absolute;
            top: 5px;
            left: 5px;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        .position-shape.top-right::after {
            content: '';
            position: absolute;
            top: 5px;
            right: 5px;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        .position-shape.bottom-left::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 5px;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        .position-shape.bottom-right::after {
            content: '';
            position: absolute;
            bottom: 5px;
            right: 5px;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        .position-shape.center::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .position-shape.diagonal::after {
            content: '';
            position: absolute;
            top: 5px;
            left: 5px;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        /* Number Shape Classes */
        .number-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
        }

        .number-shape.one::after {
            content: '1';
        }

        .number-shape.two::after {
            content: '2';
        }

        .number-shape.three::after {
            content: '3';
        }

        .number-shape.four::after {
            content: '4';
        }

        .number-shape.five::after {
            content: '5';
        }

        .number-shape.zero::after {
            content: '0';
        }

        /* Symmetry Shape Classes */
        .symmetry-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            position: relative;
        }

        .symmetry-shape.none {
            background: #667eea;
        }

        .symmetry-shape.vertical::after {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            width: 2px;
            height: 100%;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.horizontal::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.both::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(to right, white 49%, transparent 49%, transparent 51%, white 51%),
                linear-gradient(to bottom, white 49%, transparent 49%, transparent 51%, white 51%);
        }

        .symmetry-shape.diagonal::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 49%, white 49%, white 51%, transparent 51%);
        }

        .symmetry-shape.radial::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        /* Alternate Shape Classes */
        .alternate-shape {
            width: 40px;
            height: 40px;
            border: 2px solid #333;
        }

        .alternate-shape.filled {
            background: #667eea;
        }

        .alternate-shape.empty {
            background: white;
        }

        .alternate-shape.striped {
            background: repeating-linear-gradient(45deg, #667eea, #667eea 5px, white 5px, white 10px);
        }

        .alternate-shape.dotted {
            background-image: radial-gradient(circle, #667eea 2px, transparent 2px);
            background-size: 8px 8px;
        }

        .alternate-shape.half-filled {
            background: linear-gradient(to right, #667eea 50%, white 50%);
        }

        .alternate-shape.gradient {
            background: linear-gradient(45deg, #667eea, #9C27B0);
        }

        /* Visual Option Styling */
        .option-visual {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 0.5rem;
        }

        .option-visual > div {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: white;
            transition: all 0.3s ease;
        }

        .option:hover .option-visual > div {
            border-color: #667eea;
            transform: scale(1.05);
        }

        .option.selected .option-visual > div {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        /* Triangle and Rotation Classes */
        .triangle-up {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .triangle-right {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            transform: rotate(90deg);
        }

        .triangle-down {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            transform: rotate(180deg);
        }

        .triangle-left {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            transform: rotate(270deg);
        }

        .square-0 {
            width: 40px;
            height: 40px;
            background: #667eea;
            transform: rotate(0deg);
        }

        .square-90 {
            width: 40px;
            height: 40px;
            background: #667eea;
            transform: rotate(90deg);
        }

        .square-180 {
            width: 40px;
            height: 40px;
            background: #667eea;
            transform: rotate(180deg);
        }

        .square-270 {
            width: 40px;
            height: 40px;
            background: #667eea;
            transform: rotate(270deg);
        }

        .circle-small {
            width: 30px;
            height: 30px;
            background: #4CAF50;
            border-radius: 50%;
        }

        .circle-medium {
            width: 40px;
            height: 40px;
            background: #4CAF50;
            border-radius: 50%;
        }

        .circle-large {
            width: 50px;
            height: 50px;
            background: #4CAF50;
            border-radius: 50%;
        }

        /* Color and Combo Shape Classes */
        .red-circle {
            width: 40px;
            height: 40px;
            background: #f44336;
            border-radius: 50%;
        }

        .blue-square {
            width: 40px;
            height: 40px;
            background: #2196F3;
        }

        .green-triangle {
            width: 40px;
            height: 40px;
            background: #4CAF50;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .yellow-diamond {
            width: 40px;
            height: 40px;
            background: #FFD700;
            transform: rotate(45deg);
        }

        .red-square {
            width: 40px;
            height: 40px;
            background: #f44336;
        }

        .blue-triangle {
            width: 40px;
            height: 40px;
            background: #2196F3;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .green-diamond {
            width: 40px;
            height: 40px;
            background: #4CAF50;
            transform: rotate(45deg);
        }

        .yellow-circle {
            width: 40px;
            height: 40px;
            background: #FFD700;
            border-radius: 50%;
        }

        .red-diamond {
            width: 40px;
            height: 40px;
            background: #f44336;
            transform: rotate(45deg);
        }

        .blue-circle {
            width: 40px;
            height: 40px;
            background: #2196F3;
            border-radius: 50%;
        }

        .green-square {
            width: 40px;
            height: 40px;
            background: #4CAF50;
        }

        .yellow-triangle {
            width: 40px;
            height: 40px;
            background: #FFD700;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .red-triangle {
            width: 40px;
            height: 40px;
            background: #f44336;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .blue-diamond {
            width: 40px;
            height: 40px;
            background: #2196F3;
            transform: rotate(45deg);
        }

        .purple-star {
            width: 40px;
            height: 40px;
            background: #9C27B0;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }

        .orange-heart {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: path('M12,21.35l-1.45-1.32C5.4,15.36,2,12.28,2,8.5C2,5.42,4.42,3,7.5,3c1.74,0,3.41,0.81,4.5,2.09C13.09,3.81,14.76,3,16.5,3C19.58,3,22,5.42,22,8.5c0,3.78-3.4,6.86-8.55,11.54L12,21.35z');
        }

        /* Symmetry Shape Classes */
        .symmetry-shape {
            width: 40px;
            height: 40px;
            background: #333;
            position: relative;
        }

        .symmetry-shape.horizontal-line::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.vertical-line::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.diagonal-line::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 49%, white 49%, white 51%, transparent 51%);
        }

        .symmetry-shape.two-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.two-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.three-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.three-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.three-lines {
            background: conic-gradient(#333 0deg 120deg, transparent 120deg 240deg, #333 240deg 360deg);
        }

        .symmetry-shape.four-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.four-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.four-lines {
            background: conic-gradient(#333 0deg 90deg, transparent 90deg 180deg, #333 180deg 270deg, transparent 270deg 360deg);
        }

        .symmetry-shape.no-lines {
            background: #666;
        }

        .symmetry-shape.one-line::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        /* Fold Shape Classes */
        .fold-shape {
            width: 40px;
            height: 40px;
            background: #9C27B0;
            border: 2px solid #333;
        }

        .fold-shape.unfolded {
            transform: rotate(0deg);
        }

        .fold-shape.half-folded {
            transform: rotate(45deg);
        }

        .fold-shape.folded {
            transform: rotate(90deg);
        }

        .fold-shape.twisted {
            transform: rotate(180deg);
        }

        .fold-shape.double-folded {
            transform: rotate(135deg);
        }

        .fold-shape.reverse-folded {
            transform: rotate(-90deg);
        }

        /* Perspective Shape Classes */
        .perspective-shape {
            width: 40px;
            height: 40px;
            background: #795548;
            position: relative;
        }

        .perspective-shape.front-view {
            transform: rotateX(0deg) rotateY(0deg);
        }

        .perspective-shape.side-view {
            transform: rotateX(0deg) rotateY(45deg);
        }

        .perspective-shape.top-view {
            transform: rotateX(45deg) rotateY(0deg);
        }

        .perspective-shape.corner-view {
            transform: rotateX(45deg) rotateY(45deg);
        }

        .perspective-shape.bottom-view {
            transform: rotateX(-45deg) rotateY(0deg);
        }

        .perspective-shape.diagonal-view {
            transform: rotateX(30deg) rotateY(30deg);
        }

        /* Mirror Shape Classes */
        .mirror-shape {
            width: 40px;
            height: 40px;
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .mirror-shape.normal {
            transform: scaleY(1);
        }

        .mirror-shape.flipped {
            transform: scaleY(-1);
        }

        .mirror-shape.rotated {
            transform: rotate(180deg);
        }

        .mirror-shape.inverted {
            transform: scaleX(-1);
        }

        .mirror-shape.scaled {
            transform: scale(1.2);
        }

        .mirror-shape.skewed {
            transform: skew(20deg);
        }

        /* Size Shape Classes */
        .size-shape {
            background: #667eea;
            border-radius: 50%;
        }

        .size-shape.small {
            width: 30px;
            height: 30px;
        }

        .size-shape.medium {
            width: 40px;
            height: 40px;
        }

        .size-shape.large {
            width: 50px;
            height: 50px;
        }

        .size-shape.xlarge {
            width: 60px;
            height: 60px;
        }

        .size-shape.tiny {
            width: 20px;
            height: 20px;
        }

        .size-shape.huge {
            width: 70px;
            height: 70px;
        }

        /* Position Shape Classes */
        .position-shape {
            width: 20px;
            height: 20px;
            background: #333;
            border-radius: 50%;
            position: relative;
        }

        .position-shape.top-left {
            top: -10px;
            left: -10px;
        }

        .position-shape.top-right {
            top: -10px;
            right: -10px;
        }

        .position-shape.bottom-left {
            bottom: -10px;
            left: -10px;
        }

        .position-shape.bottom-right {
            bottom: -10px;
            right: -10px;
        }

        .position-shape.center {
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: auto;
        }

        .position-shape.diagonal {
            top: -5px;
            left: -5px;
        }

        /* Transform Shape Classes */
        .transform-shape {
            width: 40px;
            height: 40px;
        }

        .transform-shape.circle {
            background: #667eea;
            border-radius: 50%;
        }

        .transform-shape.oval {
            background: #4CAF50;
            border-radius: 50%;
            width: 50px;
            height: 30px;
        }

        .transform-shape.rectangle {
            background: #FF9800;
            width: 50px;
            height: 30px;
        }

        .transform-shape.triangle {
            background: #9C27B0;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .transform-shape.diamond {
            background: #795548;
            transform: rotate(45deg);
        }

        .transform-shape.square {
            background: #333;
        }

        /* Number Shape Classes */
        .number-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .number-shape.one::after {
            content: '1';
        }

        .number-shape.two::after {
            content: '2';
        }

        .number-shape.three::after {
            content: '3';
        }

        .number-shape.four::after {
            content: '4';
        }

        .number-shape.five::after {
            content: '5';
        }

        .number-shape.zero::after {
            content: '0';
        }

        /* Alternate Shape Classes */
        .alternate-shape {
            width: 40px;
            height: 40px;
            border: 2px solid #333;
        }

        .alternate-shape.filled {
            background: #667eea;
        }

        .alternate-shape.empty {
            background: white;
        }

        .alternate-shape.striped {
            background: repeating-linear-gradient(45deg, #667eea, #667eea 5px, transparent 5px, transparent 10px);
        }

        .alternate-shape.dotted {
            background: radial-gradient(circle, #667eea 2px, transparent 2px);
            background-size: 10px 10px;
        }

        .alternate-shape.half-filled {
            background: linear-gradient(45deg, #667eea 50%, white 50%);
        }

        .alternate-shape.gradient {
            background: linear-gradient(45deg, #667eea, #764ba2);
        }

        /* Skip Shape Classes */
        .skip-shape {
            width: 40px;
            height: 40px;
            background: #FF9800;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .skip-shape.first::after {
            content: '1';
        }

        .skip-shape.second::after {
            content: '2';
        }

        .skip-shape.third::after {
            content: '3';
        }

        .skip-shape.fourth::after {
            content: '4';
        }

        .skip-shape.fifth::after {
            content: '5';
        }

        .skip-shape.sixth::after {
            content: '6';
        }

        /* Progressive Shape Classes */
        .progressive-shape {
            background: #4CAF50;
            border-radius: 50%;
        }

        .progressive-shape.small {
            width: 30px;
            height: 30px;
        }

        .progressive-shape.medium {
            width: 40px;
            height: 40px;
        }

        .progressive-shape.large {
            width: 50px;
            height: 50px;
        }

        .progressive-shape.xlarge {
            width: 60px;
            height: 60px;
        }

        .progressive-shape.tiny {
            width: 20px;
            height: 20px;
        }

        .progressive-shape.huge {
            width: 70px;
            height: 70px;
        }

        /* Count Shape Classes */
        .count-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 50%;
            position: relative;
        }

        .count-shape.one-dot::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .count-shape.two-dots::after {
            content: '';
            position: absolute;
            top: 25%;
            left: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.two-dots::before {
            content: '';
            position: absolute;
            top: 25%;
            right: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.three-dots::after {
            content: '';
            position: absolute;
            top: 25%;
            left: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.three-dots::before {
            content: '';
            position: absolute;
            top: 25%;
            right: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.three-dots {
            background: linear-gradient(45deg, #667eea, #667eea 49%, transparent 49%, transparent 51%, #667eea 51%);
        }

        .count-shape.three-dots::after {
            top: 50%;
            left: 50%;
        }

        .count-shape.four-dots::after {
            content: '';
            position: absolute;
            top: 25%;
            left: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.four-dots::before {
            content: '';
            position: absolute;
            top: 25%;
            right: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.four-dots {
            background: linear-gradient(45deg, #667eea, #667eea 49%, transparent 49%, transparent 51%, #667eea 51%);
        }

        .count-shape.four-dots::after {
            top: 75%;
            left: 25%;
        }

        .count-shape.four-dots::before {
            top: 75%;
            right: 25%;
        }

        .count-shape.five-dots::after {
            content: '';
            position: absolute;
            top: 25%;
            left: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.five-dots::before {
            content: '';
            position: absolute;
            top: 25%;
            right: 25%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .count-shape.five-dots {
            background: conic-gradient(#667eea 0deg 72deg, transparent 72deg 144deg, #667eea 144deg 216deg, transparent 216deg 288deg, #667eea 288deg 360deg);
        }

        .count-shape.zero-dots {
            background: #667eea;
        }

        /* Geo Shape Classes */
        .geo-shape {
            width: 40px;
            height: 40px;
            background: #4CAF50;
            border-radius: 50%;
        }

        .geo-shape.single {
            background: #4CAF50;
        }

        .geo-shape.double {
            background: linear-gradient(45deg, #4CAF50 50%, #2196F3 50%);
        }

        .geo-shape.triple {
            background: conic-gradient(#4CAF50 0deg 120deg, #2196F3 120deg 240deg, #FF9800 240deg 360deg);
        }

        .geo-shape.quadruple {
            background: conic-gradient(#4CAF50 0deg 90deg, #2196F3 90deg 180deg, #FF9800 180deg 270deg, #9C27B0 270deg 360deg);
        }

        .geo-shape.quintuple {
            background: conic-gradient(#4CAF50 0deg 72deg, #2196F3 72deg 144deg, #FF9800 144deg 216deg, #9C27B0 216deg 288deg, #795548 288deg 360deg);
        }

        .geo-shape.zero {
            background: #666;
        }

        /* Fraction Shape Classes */
        .fraction-shape {
            width: 40px;
            height: 40px;
            background: #667eea;
            border: 2px solid #333;
            position: relative;
        }

        .fraction-shape.quarter::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 50%;
            height: 50%;
            background: white;
        }

        .fraction-shape.half::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50%;
            background: white;
        }

        .fraction-shape.three-quarter::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 75%;
            background: white;
        }

        .fraction-shape.full {
            background: white;
            border-color: #667eea;
        }

        .fraction-shape.eighth::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 25%;
            height: 50%;
            background: white;
        }

        .fraction-shape.empty {
            background: #667eea;
        }

        /* Grid Shape Classes */
        .grid-shape {
            width: 40px;
            height: 40px;
            background: #333;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 2px;
        }

        .grid-shape.one-cell {
            background: #667eea;
        }

        .grid-shape.two-cells {
            background: #333;
        }

        .grid-shape.two-cells::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 50%;
            height: 100%;
            background: #667eea;
        }

        .grid-shape.three-cells {
            background: #333;
        }

        .grid-shape.three-cells::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #667eea;
        }

        .grid-shape.three-cells::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50%;
            height: 50%;
            background: #333;
        }

        .grid-shape.four-cells {
            background: #667eea;
        }

        .grid-shape.five-cells {
            background: #333;
        }

        .grid-shape.five-cells::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #667eea;
        }

        .grid-shape.five-cells::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50%;
            height: 50%;
            background: #333;
        }

        .grid-shape.zero-cells {
            background: #666;
        }

        /* Angle Shape Classes */
        .angle-shape {
            width: 40px;
            height: 40px;
            background: #FF9800;
            position: relative;
        }

        .angle-shape.acute::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        .angle-shape.right::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        .angle-shape.obtuse::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        .angle-shape.straight::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        .angle-shape.reflex::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(225deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        .angle-shape.zero::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(0deg, transparent 49%, #333 49%, #333 51%, transparent 51%);
        }

        /* Symmetry Shape Classes */
        .symmetry-shape {
            width: 40px;
            height: 40px;
            background: #9C27B0;
            position: relative;
        }

        .symmetry-shape.one-line::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.two-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.two-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.three-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.three-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.three-lines {
            background: conic-gradient(#9C27B0 0deg 120deg, transparent 120deg 240deg, #9C27B0 240deg 360deg);
        }

        .symmetry-shape.four-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.four-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.four-lines {
            background: conic-gradient(#9C27B0 0deg 90deg, transparent 90deg 180deg, #9C27B0 180deg 270deg, transparent 270deg 360deg);
        }

        .symmetry-shape.five-lines::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: white;
            transform: translateY(-50%);
        }

        .symmetry-shape.five-lines::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: white;
            transform: translateX(-50%);
        }

        .symmetry-shape.five-lines {
            background: conic-gradient(#9C27B0 0deg 72deg, transparent 72deg 144deg, #9C27B0 144deg 216deg, transparent 216deg 288deg, #9C27B0 288deg 360deg);
        }

        .symmetry-shape.zero-lines {
            background: #666;
        }

        /* Memory Shape Classes */
        .memory-shape {
            width: 40px;
            height: 40px;
        }

        .memory-shape.circle {
            background: #667eea;
            border-radius: 50%;
        }

        .memory-shape.square {
            background: #4CAF50;
        }

        .memory-shape.triangle {
            background: #FF9800;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .memory-shape.diamond {
            background: #9C27B0;
            transform: rotate(45deg);
        }

        .memory-shape.star {
            background: #FFD700;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }

        .memory-shape.heart {
            background: #E91E63;
            clip-path: path('M12,21.35l-1.45-1.32C5.4,15.36,2,12.28,2,8.5C2,5.42,4.42,3,7.5,3c1.74,0,3.41,0.81,4.5,2.09C13.09,3.81,14.76,3,16.5,3C19.58,3,22,5.42,22,8.5c0,3.78-3.4,6.86-8.55,11.54L12,21.35z');
        }

        .memory-shape.cross {
            background: #795548;
            clip-path: polygon(40% 0%, 60% 0%, 60% 40%, 100% 40%, 100% 60%, 60% 60%, 60% 100%, 40% 100%, 40% 60%, 0% 60%, 0% 40%, 40% 40%);
        }

        /* Color Memory Classes */
        .color-memory {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .color-memory.red {
            background: #f44336;
        }

        .color-memory.blue {
            background: #2196F3;
        }

        .color-memory.green {
            background: #4CAF50;
        }

        .color-memory.yellow {
            background: #FFD700;
        }

        .color-memory.purple {
            background: #9C27B0;
        }

        .color-memory.orange {
            background: #FF9800;
        }

        /* Position Memory Classes */
        .position-memory {
            width: 40px;
            height: 40px;
            background: #333;
            border-radius: 50%;
            position: relative;
        }

        .position-memory.top {
            top: -10px;
        }

        .position-memory.middle {
            top: 0;
        }

        .position-memory.bottom {
            bottom: -10px;
        }

        .position-memory.center {
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: auto;
        }

        .position-memory.left {
            left: -10px;
        }

        .position-memory.right {
            right: -10px;
        }

        /* Size Memory Classes */
        .size-memory {
            background: #667eea;
            border-radius: 50%;
        }

        .size-memory.small {
            width: 30px;
            height: 30px;
        }

        .size-memory.medium {
            width: 40px;
            height: 40px;
        }

        .size-memory.large {
            width: 50px;
            height: 50px;
        }

        .size-memory.xlarge {
            width: 60px;
            height: 60px;
        }

        .size-memory.tiny {
            width: 20px;
            height: 20px;
        }

        .size-memory.huge {
            width: 70px;
            height: 70px;
        }

        /* Shape Memory Classes */
        .shape-memory {
            width: 40px;
            height: 40px;
        }

        .shape-memory.star {
            background: #FFD700;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }

        .shape-memory.heart {
            background: #E91E63;
            clip-path: path('M12,21.35l-1.45-1.32C5.4,15.36,2,12.28,2,8.5C2,5.42,4.42,3,7.5,3c1.74,0,3.41,0.81,4.5,2.09C13.09,3.81,14.76,3,16.5,3C19.58,3,22,5.42,22,8.5c0,3.78-3.4,6.86-8.55,11.54L12,21.35z');
        }

        .shape-memory.diamond {
            background: #9C27B0;
            transform: rotate(45deg);
        }

        .shape-memory.cross {
            background: #795548;
            clip-path: polygon(40% 0%, 60% 0%, 60% 40%, 100% 40%, 100% 60%, 60% 60%, 60% 100%, 40% 100%, 40% 60%, 0% 60%, 0% 40%, 40% 40%);
        }

        .shape-memory.circle {
            background: #667eea;
            border-radius: 50%;
        }

        .shape-memory.square {
            background: #4CAF50;
        }

        /* Pattern Memory Classes */
        .pattern-memory {
            width: 40px;
            height: 40px;
            background: #333;
        }

        .pattern-memory.dots {
            background: radial-gradient(circle, #667eea 2px, transparent 2px);
            background-size: 10px 10px;
        }

        .pattern-memory.stripes {
            background: repeating-linear-gradient(90deg, #667eea, #667eea 5px, transparent 5px, transparent 10px);
        }

        .pattern-memory.checks {
            background: repeating-linear-gradient(45deg, #667eea 0px, #667eea 5px, transparent 5px, transparent 10px);
        }

        .pattern-memory.waves {
            background: repeating-linear-gradient(45deg, #667eea 0px, #667eea 5px, transparent 5px, transparent 10px);
        }

        .pattern-memory.circles {
            background: radial-gradient(circle, #667eea 3px, transparent 3px);
            background-size: 8px 8px;
        }

        .pattern-memory.squares {
            background: repeating-linear-gradient(0deg, #667eea 0px, #667eea 4px, transparent 4px, transparent 8px);
        }

        .test-tips ul {
            list-style: none;
            margin: 0;
        }

        .test-tips li {
            padding: 0.3rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #856404;
        }

        .test-tips li::before {
            content: '💡';
            font-size: 0.8rem;
        }

        .start-test-section {
            text-align: center;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 2rem;
            border: 2px dashed #667eea;
        }

        .ready-check {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            color: #4CAF50;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .start-test-btn {
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 1rem 3rem;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .start-test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        .start-note {
            margin-top: 1rem;
            color: #666;
            font-size: 0.9rem;
        }

        /* Animations */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .test-card {
                padding: 2rem 1.5rem;
            }

            .question-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .progress-bar {
                margin: 0 1rem;
            }

            .options-grid {
                grid-template-columns: 1fr;
            }

            .test-navigation {
                flex-direction: column;
                gap: 1rem;
            }

            .nav-btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* Hidden elements */
        .hidden {
            display: none !important;
        }

        /* Loading animation */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .pattern-question svg {
            display: block;
            margin: 0 auto;
            max-width: 100%;
            height: auto;
        }

        .svg-option {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 60px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="container">
                            <a href="/" class="logo">
                <i class="fas fa-brain"></i> IQ Master
            </a>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">0/30</div>
            <div class="timer" id="timer">
                <i class="fas fa-clock"></i>
                <span id="timeLeft">25:00</span>
            </div>
        </nav>
    </header>

    <!-- Test Container -->
    <div class="test-container">
        <div class="container">
            <!-- Instructions -->
            <div class="instructions" id="instructions">
                <div class="instructions-header">
                    <h2><i class="fas fa-info-circle"></i> What to Expect in Your IQ Test</h2>
                    <p class="instructions-subtitle">Get ready to discover your cognitive potential</p>
                </div>
                
                <div class="instructions-grid">
                    <div class="instruction-card">
                        <div class="instruction-icon">
                            <i class="fas fa-puzzle-piece"></i>
                        </div>
                        <h4>25 Visual Puzzles</h4>
                        <p>Raven's Progressive Matrices style pattern recognition</p>
                    </div>
                    
                    <div class="instruction-card">
                        <div class="instruction-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <h4>40 Minutes</h4>
                        <p>One minute per puzzle - trust your pattern recognition instincts</p>
                    </div>
                    
                    <div class="instruction-card">
                        <div class="instruction-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <h4>Visual Patterns</h4>
                        <p>Find the missing piece that completes each 3x3 matrix</p>
                    </div>
                    
                    <div class="instruction-card">
                        <div class="instruction-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <h4>Cognitive Domains</h4>
                        <p>Tested across Pattern Recognition, Spatial Awareness, Logical Reasoning, Mathematical Ability, and Visual Memory</p>
                    </div>
                </div>
                
                <div class="test-tips">
                    <h4><i class="fas fa-lightbulb"></i> Pro Tips:</h4>
                    <ul>
                        <li>Look for patterns in shapes, sizes, colors, and positions</li>
                        <li>Focus on the logical sequence within each 3x3 grid</li>
                        <li>Trust your visual intuition - patterns are designed to be discoverable</li>
                        <li>Don't overthink - the correct answer should feel logically consistent</li>
                    </ul>
                </div>
                
                <div class="start-test-section">
                    <div class="ready-check">
                        <i class="fas fa-check-circle"></i>
                        <span>Ready to begin your visual pattern recognition test?</span>
                    </div>
                    <button class="start-test-btn" onclick="startTest()">
                        <i class="fas fa-play"></i>
                        Begin Visual IQ Test
                    </button>
                    <p class="start-note">Click to start your 40-minute visual pattern assessment</p>
                </div>
            </div>

            <!-- Test Questions -->
            <div id="testQuestions" class="hidden">
                <div class="test-card" id="questionCard">
                    <div class="question-header">
                        <div class="question-number" id="questionNumber">Question 1</div>
                        <div class="question-category" id="questionCategory">Logical Reasoning</div>
                    </div>
                    
                    <div class="question-text" id="questionText">
                        Which number comes next in the sequence?
                    </div>
                    
                    <div class="question-image" id="questionImage"></div>
                    
                    <div class="options-grid" id="optionsGrid">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                    
                    <div class="test-navigation">
                        <button class="nav-btn btn-prev" id="prevBtn" onclick="previousQuestion()">
                            <i class="fas fa-arrow-left"></i>
                            Previous
                        </button>
                        <button class="nav-btn btn-next" id="nextBtn" onclick="nextQuestion()">
                            Next
                            <i class="fas fa-arrow-right"></i>
                        </button>
                        <button class="nav-btn btn-submit hidden" id="submitBtn" onclick="submitTest()">
                            <i class="fas fa-check"></i>
                            Submit Test
                        </button>

                    </div>
                </div>
            </div>

            <!-- Loading -->
            <div class="loading hidden" id="loading">
                <div class="spinner"></div>
            </div>
        </div>
    </div>



    <!-- Progress Popup -->
    <div class="progress-popup" id="progressPopup">
        <div class="popup-content">
            <h2 class="popup-title">Great Progress!</h2>
            <p class="popup-subtitle">You're moving through the test efficiently</p>
            
            <div class="speed-percentage" id="speedPercentage">85%</div>
            <p>faster than other test takers</p>
            
            <div class="brain-animation">
                <div class="brain-container">
                    <i class="fas fa-brain brain-icon"></i>
                    <div class="neuron"></div>
                    <div class="neuron"></div>
                    <div class="neuron"></div>
                    <div class="neuron"></div>
                    <div class="neuron"></div>
                    <div class="neuron"></div>
                </div>
            </div>
            
            <div class="progress-stats">
                <div class="stat-item">
                    <div class="stat-number" id="questionsCompleted">10</div>
                    <div class="stat-label">Questions</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="timeElapsed">5:30</div>
                    <div class="stat-label">Time Used</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="avgTime">33s</div>
                    <div class="stat-label">Avg/Question</div>
                </div>
            </div>
            
            <button class="continue-btn" onclick="closeProgressPopup()">
                <i class="fas fa-play"></i>
                Continue Test
            </button>
        </div>
    </div>

        <script src="questions.js"></script>
    <script>

        // Test state
        let currentQuestion = 0;
        let answers = new Array(questions.length).fill(null);
        let timeLeft = 40 * 60; // 40 minutes in seconds
        let timerInterval;
        let testStarted = false;

        // Initialize test
        function startTest() {
            document.getElementById('instructions').classList.add('hidden');
            document.getElementById('testQuestions').classList.remove('hidden');
            testStarted = true;
            startTimer();
            showQuestion(0);
        }

        // Timer functions
        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimer();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitTest();
                }
            }, 1000);
        }

        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            document.getElementById('timeLeft').textContent = timeString;
            
            // Update timer styling based on time remaining
            const timer = document.getElementById('timer');
            timer.className = 'timer';
            
            if (timeLeft <= 300) { // 5 minutes
                timer.classList.add('danger');
            } else if (timeLeft <= 600) { // 10 minutes
                timer.classList.add('warning');
            }
        }

        // Question navigation
        function showQuestion(index) {
            if (index < 0 || index >= questions.length) return;
            
            currentQuestion = index;
            const question = questions[index];
            
            // Update question display
            document.getElementById('questionNumber').textContent = `Question ${index + 1}`;
            document.getElementById('questionCategory').textContent = question.category;
            
            // Handle visual questions
            if (question.type === 'visual') {
                // Display visual question
                document.getElementById('questionText').innerHTML = question.question;
                
                // Clear previous options
                const optionsGrid = document.getElementById('optionsGrid');
                optionsGrid.innerHTML = '';
                
                // Create visual options
                question.options.forEach((option, optionIndex) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'option';
                    optionDiv.onclick = () => selectOption(optionIndex);
                    
                    const label = document.createElement('span');
                    label.className = 'option-label';
                    label.textContent = String.fromCharCode(65 + optionIndex); // A, B, C, D
                    
                    const visualOption = document.createElement('div');
                    visualOption.className = 'option-visual';
                    visualOption.innerHTML = option;
                    
                    optionDiv.appendChild(label);
                    optionDiv.appendChild(visualOption);
                    optionsGrid.appendChild(optionDiv);
                });
            } else {
                // Handle text questions
                document.getElementById('questionText').innerHTML = `
                    <div class="text-question">
                        <h3>${question.question}</h3>
                    </div>
                `;
                
                // Clear previous options
                const optionsGrid = document.getElementById('optionsGrid');
                optionsGrid.innerHTML = '';
                
                // Create text options
                question.options.forEach((option, optionIndex) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'text-option';
                    optionDiv.onclick = () => selectTextOption(optionIndex);
                    optionDiv.textContent = option;
                    optionsGrid.appendChild(optionDiv);
                });
            }
            
            // Update navigation buttons
            updateNavigationButtons();
            
            // Restore previous answer if exists
            if (answers[index] !== null) {
                if (question.type === 'visual') {
                    selectOption(answers[index]);
                } else {
                    selectTextOption(answers[index]);
                }
            }
            
            // Update progress
            updateProgress();
        }

        function selectTextOption(optionIndex) {
            // Remove previous selections
            document.querySelectorAll('.text-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Select new option
            const options = document.querySelectorAll('.text-option');
            options[optionIndex].classList.add('selected');
            
            // Save answer
            answers[currentQuestion] = optionIndex;
            
            // Update progress
            updateProgress();
        }

        function selectOption(optionIndex) {
            // Remove previous selections
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Select new option
            const options = document.querySelectorAll('.option');
            options[optionIndex].classList.add('selected');
            
            // Save answer
            answers[currentQuestion] = optionIndex;
            
            // Update progress
            updateProgress();
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                showQuestion(currentQuestion + 1);
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                showQuestion(currentQuestion - 1);
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            prevBtn.disabled = currentQuestion === 0;
            prevBtn.className = currentQuestion === 0 ? 'nav-btn btn-prev btn-disabled' : 'nav-btn btn-prev';
            
            if (currentQuestion === questions.length - 1) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            }
        }

        function updateProgress() {
            const answeredCount = answers.filter(answer => answer !== null).length;
            const progressPercent = (answeredCount / questions.length) * 100;
            
            document.getElementById('progressFill').style.width = `${progressPercent}%`;
            document.getElementById('progressText').textContent = `${answeredCount}/${questions.length}`;
        }

        function submitTest() {
            console.log('submitTest called');
            clearInterval(timerInterval);
            
            // Calculate score
            let correctAnswers = 0;
            answers.forEach((answer, index) => {
                if (answer === questions[index].correct) {
                    correctAnswers++;
                }
            });
            
            const score = Math.round((correctAnswers / questions.length) * 100);
            
            // Store results in localStorage
            const results = {
                score: score,
                correctAnswers: correctAnswers,
                totalQuestions: questions.length,
                timeUsed: 25 * 60 - timeLeft,
                answers: answers,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('iqTestResults', JSON.stringify(results));
            
            // Submit to Flask backend
            console.log('Submitting to Flask backend...');
            fetch('/submit-test', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(results)
            })
            .then(response => {
                console.log('Response received:', response);
                return response.json();
            })
            .then(data => {
                console.log('Data received:', data);
                if (data.success) {
                    localStorage.setItem('test_id', data.test_id);
                    console.log('Redirecting to:', data.redirect);
                    window.location.href = data.redirect;
                } else {
                    console.log('No success, redirecting to email collection');
                    window.location.href = '/email-collection';
                }
            })
            .catch(error => {
                console.error('Error:', error);
                console.log('Error occurred, redirecting to email collection');
                // Fallback to direct redirect
                window.location.href = '/email-collection';
            });
                }



        // Progress popup functions
        function showProgressPopup() {
            const popup = document.getElementById('progressPopup');
            const questionsCompleted = currentQuestion + 1;
            const timeUsed = 25 * 60 - timeLeft;
            const avgTimePerQuestion = Math.round(timeUsed / questionsCompleted);
            
            // Calculate speed percentage (random for demo, would be real data in production)
            const speedPercentage = Math.floor(Math.random() * 40) + 60; // 60-100%
            
            // Update popup content
            document.getElementById('speedPercentage').textContent = speedPercentage + '%';
            document.getElementById('questionsCompleted').textContent = questionsCompleted;
            document.getElementById('timeElapsed').textContent = formatTime(timeUsed);
            document.getElementById('avgTime').textContent = avgTimePerQuestion + 's';
            
            // Show popup
            popup.classList.add('show');
        }

        function closeProgressPopup() {
            const popup = document.getElementById('progressPopup');
            popup.classList.remove('show');
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
        }

        // Modified nextQuestion function to show popup every 10 questions
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                const nextQuestionIndex = currentQuestion + 1;
                
                // Show progress popup every 10 questions (questions 10, 20)
                if (nextQuestionIndex % 10 === 0 && nextQuestionIndex < questions.length) {
                    showProgressPopup();
                }
                
                showQuestion(nextQuestionIndex);
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            
            // Test the submit function (remove this after testing)
            console.log('Test page loaded');
            console.log('Questions length:', questions.length);
            console.log('Submit button:', document.getElementById('submitBtn'));
        });
    </script>
</body>
</html> 